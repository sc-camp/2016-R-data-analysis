(function(){var e,t,n;!function(i){function r(e,t){return w.call(e,t)}function o(e,t){var n,i,r,o,a,s,u,l,c,d,p=t&&t.split("/"),f=y.map,h=f&&f["*"]||{};if(e&&"."===e.charAt(0))if(t){for(p=p.slice(0,p.length-1),e=p.concat(e.split("/")),l=0;l<e.length;l+=1)if(d=e[l],"."===d)e.splice(l,1),l-=1;else if(".."===d){if(1===l&&(".."===e[2]||".."===e[0]))break;l>0&&(e.splice(l-1,2),l-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((p||h)&&f){for(n=e.split("/"),l=n.length;l>0;l-=1){if(i=n.slice(0,l).join("/"),p)for(c=p.length;c>0;c-=1)if(r=f[p.slice(0,c).join("/")],r&&(r=r[i])){o=r,a=l;break}if(o)break;!s&&h&&h[i]&&(s=h[i],u=l)}!o&&s&&(o=s,a=u),o&&(n.splice(0,a,o),e=n.join("/"))}return e}function a(e,t){return function(){return f.apply(i,_.call(arguments,0).concat([e,t]))}}function s(e){return function(t){return o(t,e)}}function u(e){return function(t){g[e]=t}}function l(e){if(r(v,e)){var t=v[e];delete v[e],b[e]=!0,p.apply(i,t)}if(!r(g,e)&&!r(b,e))throw new Error("No "+e);return g[e]}function c(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function d(e){return function(){return y&&y.config&&y.config[e]||{}}}var p,f,h,m,g={},v={},y={},b={},w=Object.prototype.hasOwnProperty,_=[].slice;h=function(e,t){var n,i=c(e),r=i[0];return e=i[1],r&&(r=o(r,t),n=l(r)),r?e=n&&n.normalize?n.normalize(e,s(t)):o(e,t):(e=o(e,t),i=c(e),r=i[0],e=i[1],r&&(n=l(r))),{f:r?r+"!"+e:e,n:e,pr:r,p:n}},m={require:function(e){return a(e)},exports:function(e){var t=g[e];return"undefined"!=typeof t?t:g[e]={}},module:function(e){return{id:e,uri:"",exports:g[e],config:d(e)}}},p=function(e,t,n,o){var s,c,d,p,f,y,w=[];if(o=o||e,"function"==typeof n){for(t=!t.length&&n.length?["require","exports","module"]:t,f=0;f<t.length;f+=1)if(p=h(t[f],o),c=p.f,"require"===c)w[f]=m.require(e);else if("exports"===c)w[f]=m.exports(e),y=!0;else if("module"===c)s=w[f]=m.module(e);else if(r(g,c)||r(v,c)||r(b,c))w[f]=l(c);else{if(!p.p)throw new Error(e+" missing "+c);p.p.load(p.n,a(o,!0),u(c),{}),w[f]=g[c]}d=n.apply(g[e],w),e&&(s&&s.exports!==i&&s.exports!==g[e]?g[e]=s.exports:d===i&&y||(g[e]=d))}else e&&(g[e]=n)},e=t=f=function(e,t,n,r,o){return"string"==typeof e?m[e]?m[e](t):l(h(e,t).f):(e.splice||(y=e,t.splice?(e=t,t=n,n=null):e=i),t=t||function(){},"function"==typeof n&&(n=r,r=o),r?p(i,e,t,n):setTimeout(function(){p(i,e,t,n)},4),f)},f.config=function(e){return y=e,y.deps&&f(y.deps,y.callback),f},n=function(e,t,n){t.splice||(n=t,t=[]),r(g,e)||r(v,e)||(v[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("libs/almond",function(){}),n("hcbootstrap",[],function(){var e,n;e=document.getElementById("zendesk-js"),e&&(n=e.getAttribute("data-modules")||"",t(n.split(",")))}),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e){function t(e){var t=e.length,n=ot.type(e);return"function"===n||ot.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(ot.isFunction(t))return ot.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ot.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ft.test(t))return ot.filter(t,e,n);t=ot.filter(t,e)}return ot.grep(e,function(e){return ot.inArray(e,t)>=0!==n})}function r(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=_t[e]={};return ot.each(e.match(wt)||[],function(e,n){t[n]=!0}),t}function a(){mt.addEventListener?(mt.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(mt.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(mt.addEventListener||"load"===event.type||"complete"===mt.readyState)&&(a(),ot.ready())}function u(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(Dt,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ct.test(n)?ot.parseJSON(n):n}catch(r){}ot.data(e,t,n)}else n=void 0}return n}function l(e){var t;for(t in e)if(("data"!==t||!ot.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function c(e,t,n,i){if(ot.acceptData(e)){var r,o,a=ot.expando,s=e.nodeType,u=s?ot.cache:e,l=s?e[a]:e[a]&&a;if(l&&u[l]&&(i||u[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[a]=G.pop()||ot.guid++:a),u[l]||(u[l]=s?{}:{toJSON:ot.noop}),("object"==typeof t||"function"==typeof t)&&(i?u[l]=ot.extend(u[l],t):u[l].data=ot.extend(u[l].data,t)),o=u[l],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[ot.camelCase(t)]=n),"string"==typeof t?(r=o[t],null==r&&(r=o[ot.camelCase(t)])):r=o,r}}function d(e,t,n){if(ot.acceptData(e)){var i,r,o=e.nodeType,a=o?ot.cache:e,s=o?e[ot.expando]:ot.expando;if(a[s]){if(t&&(i=n?a[s]:a[s].data)){ot.isArray(t)?t=t.concat(ot.map(t,ot.camelCase)):t in i?t=[t]:(t=ot.camelCase(t),t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!l(i):!ot.isEmptyObject(i))return}(n||(delete a[s].data,l(a[s])))&&(o?ot.cleanData([e],!0):it.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function p(){return!0}function f(){return!1}function h(){try{return mt.activeElement}catch(e){}}function m(e){var t=Lt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,i,r=0,o=typeof e.getElementsByTagName!==Tt?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Tt?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||ot.nodeName(i,t)?o.push(i):ot.merge(o,g(i,t));return void 0===t||t&&ot.nodeName(e,t)?ot.merge([e],o):o}function v(e){At.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return ot.nodeName(e,"table")&&ot.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==ot.find.attr(e,"type"))+"/"+e.type,e}function w(e){var t=Gt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function _(e,t){for(var n,i=0;null!=(n=e[i]);i++)ot._data(n,"globalEval",!t||ot._data(t[i],"globalEval"))}function x(e,t){if(1===t.nodeType&&ot.hasData(e)){var n,i,r,o=ot._data(e),a=ot._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)ot.event.add(t,n,s[n][i])}a.data&&(a.data=ot.extend({},a.data))}}function k(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!it.noCloneEvent&&t[ot.expando]){r=ot._data(t);for(i in r.events)ot.removeEvent(t,i,r.handle);t.removeAttribute(ot.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,w(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),it.html5Clone&&e.innerHTML&&!ot.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&At.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function T(t,n){var i=ot(n.createElement(t)).appendTo(n.body),r=e.getDefaultComputedStyle?e.getDefaultComputedStyle(i[0]).display:ot.css(i[0],"display");return i.detach(),r}function C(e){var t=mt,n=en[e];return n||(n=T(e,t),"none"!==n&&n||(Kt=(Kt||ot("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Kt[0].contentWindow||Kt[0].contentDocument).document,t.write(),t.close(),n=T(e,t),Kt.detach()),en[e]=n),n}function D(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function S(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=hn.length;r--;)if(t=hn[r]+n,t in e)return t;return i}function E(e,t){for(var n,i,r,o=[],a=0,s=e.length;s>a;a++)i=e[a],i.style&&(o[a]=ot._data(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Nt(i)&&(o[a]=ot._data(i,"olddisplay",C(i.nodeName)))):o[a]||(r=Nt(i),(n&&"none"!==n||!r)&&ot._data(i,"olddisplay",r?n:ot.css(i,"display"))));for(a=0;s>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function N(e,t,n){var i=cn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function M(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=ot.css(e,n+Et[o],!0,r)),i?("content"===n&&(a-=ot.css(e,"padding"+Et[o],!0,r)),"margin"!==n&&(a-=ot.css(e,"border"+Et[o]+"Width",!0,r))):(a+=ot.css(e,"padding"+Et[o],!0,r),"padding"!==n&&(a+=ot.css(e,"border"+Et[o]+"Width",!0,r)));return a}function A(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=tn(e),a=it.boxSizing()&&"border-box"===ot.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=nn(e,t,o),(0>r||null==r)&&(r=e.style[t]),on.test(r))return r;i=a&&(it.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+M(e,t,n||(a?"border":"content"),i,o)+"px"}function j(e,t,n,i,r){return new j.prototype.init(e,t,n,i,r)}function O(){return setTimeout(function(){mn=void 0}),mn=ot.now()}function P(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Et[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function F(e,t,n){for(var i,r=(_n[t]||[]).concat(_n["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,t,e))return i}function $(e,t,n){var i,r,o,a,s,u,l,c,d=this,p={},f=e.style,h=e.nodeType&&Nt(e),m=ot._data(e,"fxshow");n.queue||(s=ot._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,ot.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],l=ot.css(e,"display"),c=C(e.nodeName),"none"===l&&(l=c),"inline"===l&&"none"===ot.css(e,"float")&&(it.inlineBlockNeedsLayout&&"inline"!==c?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",it.shrinkWrapBlocks()||d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],vn.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(h?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;h=!0}p[i]=m&&m[i]||ot.style(e,i)}if(!ot.isEmptyObject(p)){m?"hidden"in m&&(h=m.hidden):m=ot._data(e,"fxshow",{}),o&&(m.hidden=!h),h?ot(e).show():d.done(function(){ot(e).hide()}),d.done(function(){var t;ot._removeData(e,"fxshow");for(t in p)ot.style(e,t,p[t])});for(i in p)a=F(h?m[i]:0,i,d),i in m||(m[i]=a.start,h&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function L(e,t){var n,i,r,o,a;for(n in e)if(i=ot.camelCase(n),r=t[i],o=e[n],ot.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=ot.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function I(e,t,n){var i,r,o=0,a=wn.length,s=ot.Deferred().always(function(){delete u.elem}),u=function(){if(r)return!1;for(var t=mn||O(),n=Math.max(0,l.startTime+l.duration-t),i=n/l.duration||0,o=1-i,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:ot.extend({},t),opts:ot.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:mn||O(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ot.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var n=0,i=t?l.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(L(c,l.opts.specialEasing);a>o;o++)if(i=wn[o].call(l,e,c,l.opts))return i;return ot.map(c,F,l),ot.isFunction(l.opts.start)&&l.opts.start.call(e,l),ot.fx.timer(ot.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function q(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(wt)||[];if(ot.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function H(e,t,n,i){function r(s){var u;return o[s]=!0,ot.each(e[s]||[],function(e,s){var l=s(t,n,i);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),r(l),!1)}),u}var o={},a=e===Yn;return r(t.dataTypes[0])||!o["*"]&&r("*")}function R(e,t){var n,i,r=ot.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&ot.extend(!0,e,n),e}function z(e,t,n){for(var i,r,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}i||(i=a)}o=o||i}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function B(e,t,n,i){var r,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(r in l)if(s=r.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[r]:l[r]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function U(e,t,n,i){var r;if(ot.isArray(t))ot.each(t,function(t,r){n||Vn.test(e)?i(e,r):U(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==ot.type(t))i(e,t);else for(r in t)U(e+"["+r+"]",t[r],n,i)}function Y(){try{return new e.XMLHttpRequest}catch(t){}}function W(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function X(e){return ot.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var G=[],V=G.slice,J=G.concat,Z=G.push,Q=G.indexOf,K={},et=K.toString,tt=K.hasOwnProperty,nt="".trim,it={},rt="1.11.0",ot=function(e,t){return new ot.fn.init(e,t)},at=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,st=/^-ms-/,ut=/-([\da-z])/gi,lt=function(e,t){return t.toUpperCase()};ot.fn=ot.prototype={jquery:rt,constructor:ot,selector:"",length:0,toArray:function(){return V.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:V.call(this)},pushStack:function(e){var t=ot.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ot.each(this,e,t)},map:function(e){return this.pushStack(ot.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(V.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Z,sort:G.sort,splice:G.splice},ot.extend=ot.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||ot.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(r=arguments[s]))for(i in r)e=a[i],n=r[i],a!==n&&(l&&n&&(ot.isPlainObject(n)||(t=ot.isArray(n)))?(t?(t=!1,o=e&&ot.isArray(e)?e:[]):o=e&&ot.isPlainObject(e)?e:{},a[i]=ot.extend(l,o,n)):void 0!==n&&(a[i]=n));return a},ot.extend({expando:"jQuery"+(rt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===ot.type(e)},isArray:Array.isArray||function(e){return"array"===ot.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==ot.type(e)||e.nodeType||ot.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(it.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?K[et.call(e)]||"object":typeof e},globalEval:function(t){t&&ot.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(st,"ms-").replace(ut,lt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,i){var r,o=0,a=e.length,s=t(e);if(i){if(s)for(;a>o&&(r=n.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=n.apply(e[o],i),r===!1)break}else if(s)for(;a>o&&(r=n.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=n.call(e[o],o,e[o]),r===!1)break;return e},trim:nt&&!nt.call("﻿ ")?function(e){return null==e?"":nt.call(e)}:function(e){return null==e?"":(e+"").replace(at,"")},makeArray:function(e,n){var i=n||[];return null!=e&&(t(Object(e))?ot.merge(i,"string"==typeof e?[e]:e):Z.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(Q)return Q.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,a=e.length,s=!n;a>o;o++)i=!t(e[o],o),i!==s&&r.push(e[o]);return r},map:function(e,n,i){var r,o=0,a=e.length,s=t(e),u=[];if(s)for(;a>o;o++)r=n(e[o],o,i),null!=r&&u.push(r);else for(o in e)r=n(e[o],o,i),null!=r&&u.push(r);return J.apply([],u)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(r=e[t],t=e,e=r),ot.isFunction(e)?(n=V.call(arguments,2),i=function(){return e.apply(t||this,n.concat(V.call(arguments)))},i.guid=e.guid=e.guid||ot.guid++,i):void 0},now:function(){return+new Date},support:it}),ot.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){K["[object "+t+"]"]=t.toLowerCase()});var ct=function(e){function t(e,t,n,i){var r,o,a,s,u,l,d,h,m,g;if((t?t.ownerDocument||t:H)!==j&&A(t),t=t||j,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(P&&!i){if(r=yt.exec(e))if(a=r[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&I(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return K.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&k.getElementsByClassName&&t.getElementsByClassName)return K.apply(n,t.getElementsByClassName(a)),n}if(k.qsa&&(!F||!F.test(e))){if(h=d=q,m=t,g=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=p(e),(d=t.getAttribute("id"))?h=d.replace(wt,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",u=l.length;u--;)l[u]=h+f(l[u]);m=bt.test(e)&&c(t.parentNode)||t,g=l.join(",")}if(g)try{return K.apply(n,m.querySelectorAll(g)),n}catch(v){}finally{d||t.removeAttribute("id")}}}return _(e.replace(ut,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>T.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[q]=!0,e}function r(e){var t=j.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)T.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&typeof e.getElementsByTagName!==X&&e}function d(){}function p(e,n){var i,r,o,a,s,u,l,c=U[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=T.preFilter;s;){(!i||(r=lt.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),i=!1,(r=ct.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ut," ")}),s=s.slice(i.length));for(a in T.filter)!(r=ht[a].exec(s))||l[a]&&!(r=l[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):U(e,u).slice(0)}function f(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function h(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=z++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,u,l=[R,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(u=t[q]||(t[q]={}),(s=u[i])&&s[0]===R&&s[1]===o)return l[2]=s[2];if(u[i]=l,l[2]=e(t,n,a))return!0}}}function m(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function g(e,t,n,i,r){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),l&&t.push(s));return a}function v(e,t,n,r,o,a){return r&&!r[q]&&(r=v(r)),o&&!o[q]&&(o=v(o,a)),i(function(i,a,s,u){var l,c,d,p=[],f=[],h=a.length,m=i||w(t||"*",s.nodeType?[s]:s,[]),v=!e||!i&&t?m:g(m,p,e,s,u),y=n?o||(i?e:h||r)?[]:a:v;if(n&&n(v,y,s,u),r)for(l=g(y,f),r(l,[],s,u),c=l.length;c--;)(d=l[c])&&(y[f[c]]=!(v[f[c]]=d));if(i){if(o||e){if(o){for(l=[],c=y.length;c--;)(d=y[c])&&l.push(v[c]=d);o(null,y=[],l,u)}for(c=y.length;c--;)(d=y[c])&&(l=o?tt.call(i,d):p[c])>-1&&(i[l]=!(a[l]=d))}}else y=g(y===a?y.splice(h,y.length):y),o?o(null,a,y,u):K.apply(a,y)})}function y(e){for(var t,n,i,r=e.length,o=T.relative[e[0].type],a=o||T.relative[" "],s=o?1:0,u=h(function(e){return e===t},a,!0),l=h(function(e){return tt.call(t,e)>-1},a,!0),c=[function(e,n,i){return!o&&(i||n!==E)||((t=n).nodeType?u(e,n,i):l(e,n,i))}];r>s;s++)if(n=T.relative[e[s].type])c=[h(m(c),n)];else{if(n=T.filter[e[s].type].apply(null,e[s].matches),n[q]){for(i=++s;r>i&&!T.relative[e[i].type];i++);return v(s>1&&m(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ut,"$1"),n,i>s&&y(e.slice(s,i)),r>i&&y(e=e.slice(i)),r>i&&f(e))}c.push(n)}return m(c)}function b(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,u,l){var c,d,p,f=0,h="0",m=i&&[],v=[],y=E,b=i||o&&T.find.TAG("*",l),w=R+=null==y?1:Math.random()||.1,_=b.length;for(l&&(E=a!==j&&a);h!==_&&null!=(c=b[h]);h++){if(o&&c){for(d=0;p=e[d++];)if(p(c,a,s)){u.push(c);break}l&&(R=w)}r&&((c=!p&&c)&&f--,i&&m.push(c))}if(f+=h,r&&h!==f){for(d=0;p=n[d++];)p(m,v,a,s);if(i){if(f>0)for(;h--;)m[h]||v[h]||(v[h]=Z.call(u));v=g(v)}K.apply(u,v),l&&!i&&v.length>0&&f+n.length>1&&t.uniqueSort(u)}return l&&(R=w,E=y),m};return r?i(a):a}function w(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function _(e,t,n,i){var r,o,a,s,u,l=p(e);if(!i&&1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&k.getById&&9===t.nodeType&&P&&T.relative[o[1].type]){if(t=(T.find.ID(a.matches[0].replace(_t,xt),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}for(r=ht.needsContext.test(e)?0:o.length;r--&&(a=o[r],!T.relative[s=a.type]);)if((u=T.find[s])&&(i=u(a.matches[0].replace(_t,xt),bt.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&f(o),!e)return K.apply(n,i),n;break}}return S(e,l)(i,t,!P,n,bt.test(e)&&c(t.parentNode)||t),n}var x,k,T,C,D,S,E,N,M,A,j,O,P,F,$,L,I,q="sizzle"+-new Date,H=e.document,R=0,z=0,B=n(),U=n(),Y=n(),W=function(e,t){return e===t&&(M=!0),0},X="undefined",G=1<<31,V={}.hasOwnProperty,J=[],Z=J.pop,Q=J.push,K=J.push,et=J.slice,tt=J.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot=rt.replace("w","w#"),at="\\["+it+"*("+rt+")"+it+"*(?:([*^$|!~]?=)"+it+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ot+")|)|)"+it+"*\\]",st=":("+rt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+at.replace(3,8)+")*)|.*)\\)|)",ut=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),ct=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),dt=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),pt=new RegExp(st),ft=new RegExp("^"+ot+"$"),ht={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,wt=/'|\\/g,_t=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),xt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{K.apply(J=et.call(H.childNodes),H.childNodes),J[H.childNodes.length].nodeType}catch(kt){K={apply:J.length?function(e,t){Q.apply(e,et.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}k=t.support={},D=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},A=t.setDocument=function(e){var t,n=e?e.ownerDocument||e:H,i=n.defaultView;return n!==j&&9===n.nodeType&&n.documentElement?(j=n,O=n.documentElement,P=!D(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){A()},!1):i.attachEvent&&i.attachEvent("onunload",function(){A()})),k.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),k.getElementsByTagName=r(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),k.getElementsByClassName=vt.test(n.getElementsByClassName)&&r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),k.getById=r(function(e){return O.appendChild(e).id=q,!n.getElementsByName||!n.getElementsByName(q).length}),k.getById?(T.find.ID=function(e,t){if(typeof t.getElementById!==X&&P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},T.filter.ID=function(e){var t=e.replace(_t,xt);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(_t,xt);return function(e){var n=typeof e.getAttributeNode!==X&&e.getAttributeNode("id");return n&&n.value===t}}),T.find.TAG=k.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==X?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},T.find.CLASS=k.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==X&&P?t.getElementsByClassName(e):void 0},$=[],F=[],(k.qsa=vt.test(n.querySelectorAll))&&(r(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&F.push("[*^$]="+it+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||F.push("\\["+it+"*(?:value|"+nt+")"),e.querySelectorAll(":checked").length||F.push(":checked")}),r(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&F.push("name"+it+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),F.push(",.*:")})),(k.matchesSelector=vt.test(L=O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(e){k.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),$.push("!=",st)}),F=F.length&&new RegExp(F.join("|")),$=$.length&&new RegExp($.join("|")),t=vt.test(O.compareDocumentPosition),I=t||vt.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return M=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!k.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===H&&I(H,e)?-1:t===n||t.ownerDocument===H&&I(H,t)?1:N?tt.call(N,e)-tt.call(N,t):0:4&i?-1:1)}:function(e,t){if(e===t)return M=!0,0;var i,r=0,o=e.parentNode,s=t.parentNode,u=[e],l=[t];if(!o||!s)return e===n?-1:t===n?1:o?-1:s?1:N?tt.call(N,e)-tt.call(N,t):0;if(o===s)return a(e,t);for(i=e;i=i.parentNode;)u.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;u[r]===l[r];)r++;return r?a(u[r],l[r]):u[r]===H?-1:l[r]===H?1:0},n):j},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==j&&A(e),n=n.replace(dt,"='$1']"),!(!k.matchesSelector||!P||$&&$.test(n)||F&&F.test(n)))try{var i=L.call(e,n);if(i||k.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,j,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==j&&A(e),I(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==j&&A(e);var n=T.attrHandle[t.toLowerCase()],i=n&&V.call(T.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==i?i:k.attributes||!P?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(M=!k.detectDuplicates,N=!k.sortStable&&e.slice(0),e.sort(W),M){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return N=null,e},C=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=C(t);return n},T=t.selectors={cacheLength:50,createPseudo:i,match:ht,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(_t,xt),e[3]=(e[4]||e[5]||"").replace(_t,xt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ht.CHILD.test(e[0])?null:(e[3]&&void 0!==e[4]?e[2]=e[4]:n&&pt.test(n)&&(t=p(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(_t,xt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=new RegExp("(^|"+it+")"+e+"("+it+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==X&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,u){var l,c,d,p,f,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s;
if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(c=g[q]||(g[q]={}),l=c[e]||[],f=l[0]===R&&l[1],p=l[0]===R&&l[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(p=f=0)||h.pop();)if(1===d.nodeType&&++p&&d===t){c[e]=[R,f,p];break}}else if(y&&(l=(t[q]||(t[q]={}))[e])&&l[0]===R)p=l[1];else for(;(d=++f&&d&&d[m]||(p=f=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++p||(y&&((d[q]||(d[q]={}))[e]=[R,p]),d!==t)););return p-=r,p===i||p%i===0&&p/i>=0}}},PSEUDO:function(e,n){var r,o=T.pseudos[e]||T.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[q]?o(n):o.length>1?(r=[e,e,"",n],T.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=tt.call(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=S(e.replace(ut,"$1"));return r[q]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:i(function(e){return ft.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(_t,xt).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===j.activeElement&&(!j.hasFocus||j.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!T.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[0>n?n+t:n]}),even:l(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:l(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},T.pseudos.nth=T.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=s(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=u(x);return d.prototype=T.filters=T.pseudos,T.setFilters=new d,S=t.compile=function(e,t){var n,i=[],r=[],o=Y[e+" "];if(!o){for(t||(t=p(e)),n=t.length;n--;)o=y(t[n]),o[q]?i.push(o):r.push(o);o=Y(e,b(r,i))}return o},k.sortStable=q.split("").sort(W).join("")===q,k.detectDuplicates=!!M,A(),k.sortDetached=r(function(e){return 1&e.compareDocumentPosition(j.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),k.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(nt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);ot.find=ct,ot.expr=ct.selectors,ot.expr[":"]=ot.expr.pseudos,ot.unique=ct.uniqueSort,ot.text=ct.getText,ot.isXMLDoc=ct.isXML,ot.contains=ct.contains;var dt=ot.expr.match.needsContext,pt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ft=/^.[^:#\[\.,]*$/;ot.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ot.find.matchesSelector(i,e)?[i]:[]:ot.find.matches(e,ot.grep(t,function(e){return 1===e.nodeType}))},ot.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(ot(e).filter(function(){for(t=0;r>t;t++)if(ot.contains(i[t],this))return!0}));for(t=0;r>t;t++)ot.find(e,i[t],n);return n=this.pushStack(r>1?ot.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&dt.test(e)?ot(e):e||[],!1).length}});var ht,mt=e.document,gt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,vt=ot.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:gt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ht).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof ot?t[0]:t,ot.merge(this,ot.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:mt,!0)),pt.test(n[1])&&ot.isPlainObject(t))for(n in t)ot.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(i=mt.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return ht.find(e);this.length=1,this[0]=i}return this.context=mt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ot.isFunction(e)?"undefined"!=typeof ht.ready?ht.ready(e):e(ot):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),ot.makeArray(e,this))};vt.prototype=ot.fn,ht=ot(mt);var yt=/^(?:parents|prev(?:Until|All))/,bt={children:!0,contents:!0,next:!0,prev:!0};ot.extend({dir:function(e,t,n){for(var i=[],r=e[t];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!ot(r).is(n));)1===r.nodeType&&i.push(r),r=r[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),ot.fn.extend({has:function(e){var t,n=ot(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(ot.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=dt.test(e)||"string"!=typeof e?ot(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ot.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?ot.unique(o):o)},index:function(e){return e?"string"==typeof e?ot.inArray(this[0],ot(e)):ot.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(ot.unique(ot.merge(this.get(),ot(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ot.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ot.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ot.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return ot.dir(e,"nextSibling")},prevAll:function(e){return ot.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ot.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ot.dir(e,"previousSibling",n)},siblings:function(e){return ot.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ot.sibling(e.firstChild)},contents:function(e){return ot.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ot.merge([],e.childNodes)}},function(e,t){ot.fn[e]=function(n,i){var r=ot.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ot.filter(i,r)),this.length>1&&(bt[e]||(r=ot.unique(r)),yt.test(e)&&(r=r.reverse())),this.pushStack(r)}});var wt=/\S+/g,_t={};ot.Callbacks=function(e){e="string"==typeof e?_t[e]||o(e):ot.extend({},e);var t,n,i,r,a,s,u=[],l=!e.once&&[],c=function(o){for(n=e.memory&&o,i=!0,a=s||0,s=0,r=u.length,t=!0;u&&r>a;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,u&&(l?l.length&&c(l.shift()):n?u=[]:d.disable())},d={add:function(){if(u){var i=u.length;!function o(t){ot.each(t,function(t,n){var i=ot.type(n);"function"===i?e.unique&&d.has(n)||u.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),t?r=u.length:n&&(s=i,c(n))}return this},remove:function(){return u&&ot.each(arguments,function(e,n){for(var i;(i=ot.inArray(n,u,i))>-1;)u.splice(i,1),t&&(r>=i&&r--,a>=i&&a--)}),this},has:function(e){return e?ot.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],r=0,this},disable:function(){return u=l=n=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,n||d.disable(),this},locked:function(){return!l},fireWith:function(e,n){return!u||i&&!l||(n=n||[],n=[e,n.slice?n.slice():n],t?l.push(n):c(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},ot.extend({Deferred:function(e){var t=[["resolve","done",ot.Callbacks("once memory"),"resolved"],["reject","fail",ot.Callbacks("once memory"),"rejected"],["notify","progress",ot.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ot.Deferred(function(n){ot.each(t,function(t,o){var a=ot.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ot.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ot.extend(e,i):i}},r={};return i.pipe=i.then,ot.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=V.call(arguments),a=o.length,s=1!==a||e&&ot.isFunction(e.promise)?a:0,u=1===s?e:ot.Deferred(),l=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?V.call(arguments):r,i===t?u.notifyWith(n,i):--s||u.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&ot.isFunction(o[r].promise)?o[r].promise().done(l(r,i,o)).fail(u.reject).progress(l(r,n,t)):--s;return s||u.resolveWith(i,o),u.promise()}});var xt;ot.fn.ready=function(e){return ot.ready.promise().done(e),this},ot.extend({isReady:!1,readyWait:1,holdReady:function(e){e?ot.readyWait++:ot.ready(!0)},ready:function(e){if(e===!0?!--ot.readyWait:!ot.isReady){if(!mt.body)return setTimeout(ot.ready);ot.isReady=!0,e!==!0&&--ot.readyWait>0||(xt.resolveWith(mt,[ot]),ot.fn.trigger&&ot(mt).trigger("ready").off("ready"))}}}),ot.ready.promise=function(t){if(!xt)if(xt=ot.Deferred(),"complete"===mt.readyState)setTimeout(ot.ready);else if(mt.addEventListener)mt.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{mt.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&mt.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!ot.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}a(),ot.ready()}}()}return xt.promise(t)};var kt,Tt="undefined";for(kt in ot(it))break;it.ownLast="0"!==kt,it.inlineBlockNeedsLayout=!1,ot(function(){var e,t,n=mt.getElementsByTagName("body")[0];n&&(e=mt.createElement("div"),e.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",t=mt.createElement("div"),n.appendChild(e).appendChild(t),typeof t.style.zoom!==Tt&&(t.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(it.inlineBlockNeedsLayout=3===t.offsetWidth)&&(n.style.zoom=1)),n.removeChild(e),e=t=null)}),function(){var e=mt.createElement("div");if(null==it.deleteExpando){it.deleteExpando=!0;try{delete e.test}catch(t){it.deleteExpando=!1}}e=null}(),ot.acceptData=function(e){var t=ot.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Ct=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Dt=/([A-Z])/g;ot.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ot.cache[e[ot.expando]]:e[ot.expando],!!e&&!l(e)},data:function(e,t,n){return c(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return c(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),ot.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=ot.data(o),1===o.nodeType&&!ot._data(o,"parsedAttrs"))){for(n=a.length;n--;)i=a[n].name,0===i.indexOf("data-")&&(i=ot.camelCase(i.slice(5)),u(o,i,r[i]));ot._data(o,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ot.data(this,e)}):arguments.length>1?this.each(function(){ot.data(this,e,t)}):o?u(o,e,ot.data(o,e)):void 0},removeData:function(e){return this.each(function(){ot.removeData(this,e)})}}),ot.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ot._data(e,t),n&&(!i||ot.isArray(n)?i=ot._data(e,t,ot.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ot.queue(e,t),i=n.length,r=n.shift(),o=ot._queueHooks(e,t),a=function(){ot.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ot._data(e,n)||ot._data(e,n,{empty:ot.Callbacks("once memory").add(function(){ot._removeData(e,t+"queue"),ot._removeData(e,n)})})}}),ot.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?ot.queue(this[0],e):void 0===t?this:this.each(function(){var n=ot.queue(this,e,t);ot._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&ot.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ot.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=ot.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ot._data(o[a],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var St=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Et=["Top","Right","Bottom","Left"],Nt=function(e,t){return e=t||e,"none"===ot.css(e,"display")||!ot.contains(e.ownerDocument,e)},Mt=ot.access=function(e,t,n,i,r,o,a){var s=0,u=e.length,l=null==n;if("object"===ot.type(n)){r=!0;for(s in n)ot.access(e,t,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,ot.isFunction(i)||(a=!0),l&&(a?(t.call(e,i),t=null):(l=t,t=function(e,t,n){return l.call(ot(e),n)})),t))for(;u>s;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:l?t.call(e):u?t(e[0],n):o},At=/^(?:checkbox|radio)$/i;!function(){var e=mt.createDocumentFragment(),t=mt.createElement("div"),n=mt.createElement("input");if(t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a>",it.leadingWhitespace=3===t.firstChild.nodeType,it.tbody=!t.getElementsByTagName("tbody").length,it.htmlSerialize=!!t.getElementsByTagName("link").length,it.html5Clone="<:nav></:nav>"!==mt.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,e.appendChild(n),it.appendChecked=n.checked,t.innerHTML="<textarea>x</textarea>",it.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",it.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,it.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){it.noCloneEvent=!1}),t.cloneNode(!0).click()),null==it.deleteExpando){it.deleteExpando=!0;try{delete t.test}catch(i){it.deleteExpando=!1}}e=t=n=null}(),function(){var t,n,i=mt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(it[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),it[t+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var jt=/^(?:input|select|textarea)$/i,Ot=/^key/,Pt=/^(?:mouse|contextmenu)|click/,Ft=/^(?:focusinfocus|focusoutblur)$/,$t=/^([^.]*)(?:\.(.+)|)$/;ot.event={global:{},add:function(e,t,n,i,r){var o,a,s,u,l,c,d,p,f,h,m,g=ot._data(e);if(g){for(n.handler&&(u=n,n=u.handler,r=u.selector),n.guid||(n.guid=ot.guid++),(a=g.events)||(a=g.events={}),(c=g.handle)||(c=g.handle=function(e){return typeof ot===Tt||e&&ot.event.triggered===e.type?void 0:ot.event.dispatch.apply(c.elem,arguments)},c.elem=e),t=(t||"").match(wt)||[""],s=t.length;s--;)o=$t.exec(t[s])||[],f=m=o[1],h=(o[2]||"").split(".").sort(),f&&(l=ot.event.special[f]||{},f=(r?l.delegateType:l.bindType)||f,l=ot.event.special[f]||{},d=ot.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ot.expr.match.needsContext.test(r),namespace:h.join(".")},u),(p=a[f])||(p=a[f]=[],p.delegateCount=0,l.setup&&l.setup.call(e,i,h,c)!==!1||(e.addEventListener?e.addEventListener(f,c,!1):e.attachEvent&&e.attachEvent("on"+f,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,d):p.push(d),ot.event.global[f]=!0);e=null}},remove:function(e,t,n,i,r){var o,a,s,u,l,c,d,p,f,h,m,g=ot.hasData(e)&&ot._data(e);if(g&&(c=g.events)){for(t=(t||"").match(wt)||[""],l=t.length;l--;)if(s=$t.exec(t[l])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(d=ot.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,p=c[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=p.length;o--;)a=p[o],!r&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(p.splice(o,1),a.selector&&p.delegateCount--,d.remove&&d.remove.call(e,a));u&&!p.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||ot.removeEvent(e,f,g.handle),delete c[f])}else for(f in c)ot.event.remove(e,f+t[l],n,i,!0);ot.isEmptyObject(c)&&(delete g.handle,ot._removeData(e,"events"))}},trigger:function(t,n,i,r){var o,a,s,u,l,c,d,p=[i||mt],f=tt.call(t,"type")?t.type:t,h=tt.call(t,"namespace")?t.namespace.split("."):[];if(s=c=i=i||mt,3!==i.nodeType&&8!==i.nodeType&&!Ft.test(f+ot.event.triggered)&&(f.indexOf(".")>=0&&(h=f.split("."),f=h.shift(),h.sort()),a=f.indexOf(":")<0&&"on"+f,t=t[ot.expando]?t:new ot.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=h.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:ot.makeArray(n,[t]),l=ot.event.special[f]||{},r||!l.trigger||l.trigger.apply(i,n)!==!1)){if(!r&&!l.noBubble&&!ot.isWindow(i)){for(u=l.delegateType||f,Ft.test(u+f)||(s=s.parentNode);s;s=s.parentNode)p.push(s),c=s;c===(i.ownerDocument||mt)&&p.push(c.defaultView||c.parentWindow||e)}for(d=0;(s=p[d++])&&!t.isPropagationStopped();)t.type=d>1?u:l.bindType||f,o=(ot._data(s,"events")||{})[t.type]&&ot._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&ot.acceptData(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=f,!r&&!t.isDefaultPrevented()&&(!l._default||l._default.apply(p.pop(),n)===!1)&&ot.acceptData(i)&&a&&i[f]&&!ot.isWindow(i)){c=i[a],c&&(i[a]=null),ot.event.triggered=f;try{i[f]()}catch(m){}ot.event.triggered=void 0,c&&(i[a]=c)}return t.result}},dispatch:function(e){e=ot.event.fix(e);var t,n,i,r,o,a=[],s=V.call(arguments),u=(ot._data(this,"events")||{})[e.type]||[],l=ot.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(a=ot.event.handlers.call(this,e,u),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,o=0;(i=r.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,n=((ot.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(r=[],o=0;s>o;o++)i=t[o],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?ot(n,this).index(u)>=0:ot.find(n,this,null,[u]).length),r[n]&&r.push(i);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[ot.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Pt.test(r)?this.mouseHooks:Ot.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new ot.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=o.srcElement||mt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||mt,r=i.documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ot.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ot.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=ot.extend(new ot.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ot.event.trigger(r,null,t):ot.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},ot.removeEvent=mt.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===Tt&&(e[i]=null),e.detachEvent(i,n))},ot.Event=function(e,t){return this instanceof ot.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&(e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault())?p:f):this.type=e,t&&ot.extend(this,t),this.timeStamp=e&&e.timeStamp||ot.now(),void(this[ot.expando]=!0)):new ot.Event(e,t)},ot.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=p,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=p,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=p,this.stopPropagation()}},ot.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ot.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!ot.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),it.submitBubbles||(ot.event.special.submit={setup:function(){return ot.nodeName(this,"form")?!1:void ot.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=ot.nodeName(t,"input")||ot.nodeName(t,"button")?t.form:void 0;n&&!ot._data(n,"submitBubbles")&&(ot.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ot._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ot.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ot.nodeName(this,"form")?!1:void ot.event.remove(this,"._submit")}}),it.changeBubbles||(ot.event.special.change={setup:function(){return jt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ot.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ot.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ot.event.simulate("change",this,e,!0)})),!1):void ot.event.add(this,"beforeactivate._change",function(e){var t=e.target;jt.test(t.nodeName)&&!ot._data(t,"changeBubbles")&&(ot.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ot.event.simulate("change",this.parentNode,e,!0)}),ot._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ot.event.remove(this,"._change"),!jt.test(this.nodeName)}}),it.focusinBubbles||ot.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){ot.event.simulate(t,e.target,ot.event.fix(e),!0)};ot.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=ot._data(i,t);r||i.addEventListener(e,n,!0),ot._data(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ot._data(i,t)-1;r?ot._data(i,t,r):(i.removeEventListener(e,n,!0),ot._removeData(i,t))}}}),ot.fn.extend({on:function(e,t,n,i,r){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=f;else if(!i)return this;return 1===r&&(a=i,i=function(e){return ot().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=ot.guid++)),this.each(function(){ot.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,ot(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=f),this.each(function(){ot.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){ot.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ot.event.trigger(e,t,n,!0):void 0}});var Lt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",It=/ jQuery\d+="(?:null|\d+)"/g,qt=new RegExp("<(?:"+Lt+")[\\s/>]","i"),Ht=/^\s+/,Rt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,zt=/<([\w:]+)/,Bt=/<tbody/i,Ut=/<|&#?\w+;/,Yt=/<(?:script|style|link)/i,Wt=/checked\s*(?:[^=]|=\s*.checked.)/i,Xt=/^$|\/(?:java|ecma)script/i,Gt=/^true\/(.*)/,Vt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Jt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:it.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Zt=m(mt),Qt=Zt.appendChild(mt.createElement("div"));Jt.optgroup=Jt.option,Jt.tbody=Jt.tfoot=Jt.colgroup=Jt.caption=Jt.thead,Jt.th=Jt.td,ot.extend({clone:function(e,t,n){var i,r,o,a,s,u=ot.contains(e.ownerDocument,e);if(it.html5Clone||ot.isXMLDoc(e)||!qt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Qt.innerHTML=e.outerHTML,Qt.removeChild(o=Qt.firstChild)),!(it.noCloneEvent&&it.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ot.isXMLDoc(e)))for(i=g(o),s=g(e),a=0;null!=(r=s[a]);++a)i[a]&&k(r,i[a]);if(t)if(n)for(s=s||g(e),i=i||g(o),a=0;null!=(r=s[a]);a++)x(r,i[a]);else x(e,o);return i=g(o,"script"),i.length>0&&_(i,!u&&g(e,"script")),i=s=r=null,o},buildFragment:function(e,t,n,i){for(var r,o,a,s,u,l,c,d=e.length,p=m(t),f=[],h=0;d>h;h++)if(o=e[h],o||0===o)if("object"===ot.type(o))ot.merge(f,o.nodeType?[o]:o);else if(Ut.test(o)){for(s=s||p.appendChild(t.createElement("div")),u=(zt.exec(o)||["",""])[1].toLowerCase(),c=Jt[u]||Jt._default,s.innerHTML=c[1]+o.replace(Rt,"<$1></$2>")+c[2],r=c[0];r--;)s=s.lastChild;if(!it.leadingWhitespace&&Ht.test(o)&&f.push(t.createTextNode(Ht.exec(o)[0])),!it.tbody)for(o="table"!==u||Bt.test(o)?"<table>"!==c[1]||Bt.test(o)?0:s:s.firstChild,r=o&&o.childNodes.length;r--;)ot.nodeName(l=o.childNodes[r],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(ot.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else f.push(t.createTextNode(o));for(s&&p.removeChild(s),it.appendChecked||ot.grep(g(f,"input"),v),h=0;o=f[h++];)if((!i||-1===ot.inArray(o,i))&&(a=ot.contains(o.ownerDocument,o),s=g(p.appendChild(o),"script"),a&&_(s),n))for(r=0;o=s[r++];)Xt.test(o.type||"")&&n.push(o);return s=null,p},cleanData:function(e,t){for(var n,i,r,o,a=0,s=ot.expando,u=ot.cache,l=it.deleteExpando,c=ot.event.special;null!=(n=e[a]);a++)if((t||ot.acceptData(n))&&(r=n[s],o=r&&u[r])){if(o.events)for(i in o.events)c[i]?ot.event.remove(n,i):ot.removeEvent(n,i,o.handle);u[r]&&(delete u[r],l?delete n[s]:typeof n.removeAttribute!==Tt?n.removeAttribute(s):n[s]=null,G.push(r))}}}),ot.fn.extend({text:function(e){return Mt(this,function(e){return void 0===e?ot.text(this):this.empty().append((this[0]&&this[0].ownerDocument||mt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?ot.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||ot.cleanData(g(n)),n.parentNode&&(t&&ot.contains(n.ownerDocument,n)&&_(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ot.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ot.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ot.clone(this,e,t)})},html:function(e){return Mt(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(It,""):void 0;if(!("string"!=typeof e||Yt.test(e)||!it.htmlSerialize&&qt.test(e)||!it.leadingWhitespace&&Ht.test(e)||Jt[(zt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Rt,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(ot.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,ot.cleanData(g(this)),e&&e.replaceChild(t,this)
}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=J.apply([],e);var n,i,r,o,a,s,u=0,l=this.length,c=this,d=l-1,p=e[0],f=ot.isFunction(p);if(f||l>1&&"string"==typeof p&&!it.checkClone&&Wt.test(p))return this.each(function(n){var i=c.eq(n);f&&(e[0]=p.call(this,n,i.html())),i.domManip(e,t)});if(l&&(s=ot.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=ot.map(g(s,"script"),b),r=o.length;l>u;u++)i=s,u!==d&&(i=ot.clone(i,!0,!0),r&&ot.merge(o,g(i,"script"))),t.call(this[u],i,u);if(r)for(a=o[o.length-1].ownerDocument,ot.map(o,w),u=0;r>u;u++)i=o[u],Xt.test(i.type||"")&&!ot._data(i,"globalEval")&&ot.contains(a,i)&&(i.src?ot._evalUrl&&ot._evalUrl(i.src):ot.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Vt,"")));s=n=null}return this}}),ot.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ot.fn[e]=function(e){for(var n,i=0,r=[],o=ot(e),a=o.length-1;a>=i;i++)n=i===a?this:this.clone(!0),ot(o[i])[t](n),Z.apply(r,n.get());return this.pushStack(r)}});var Kt,en={};!function(){var e,t,n=mt.createElement("div"),i="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],e.style.cssText="float:left;opacity:.5",it.opacity=/^0.5/.test(e.style.opacity),it.cssFloat=!!e.style.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===n.style.backgroundClip,e=n=null,it.shrinkWrapBlocks=function(){var e,n,r,o;if(null==t){if(e=mt.getElementsByTagName("body")[0],!e)return;o="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",n=mt.createElement("div"),r=mt.createElement("div"),e.appendChild(n).appendChild(r),t=!1,typeof r.style.zoom!==Tt&&(r.style.cssText=i+";width:1px;padding:1px;zoom:1",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t=3!==r.offsetWidth),e.removeChild(n),e=n=r=null}return t}}();var tn,nn,rn=/^margin/,on=new RegExp("^("+St+")(?!px)[a-z%]+$","i"),an=/^(top|right|bottom|left)$/;e.getComputedStyle?(tn=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)},nn=function(e,t,n){var i,r,o,a,s=e.style;return n=n||tn(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||ot.contains(e.ownerDocument,e)||(a=ot.style(e,t)),on.test(a)&&rn.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0===a?a:a+""}):mt.documentElement.currentStyle&&(tn=function(e){return e.currentStyle},nn=function(e,t,n){var i,r,o,a,s=e.style;return n=n||tn(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),on.test(a)&&!an.test(t)&&(i=s.left,r=e.runtimeStyle,o=r&&r.left,o&&(r.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=i,o&&(r.left=o)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,i=mt.getElementsByTagName("body")[0];i&&(t=mt.createElement("div"),n=mt.createElement("div"),t.style.cssText=l,i.appendChild(t).appendChild(n),n.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",ot.swap(i,null!=i.style.zoom?{zoom:1}:{},function(){r=4===n.offsetWidth}),o=!0,a=!1,s=!0,e.getComputedStyle&&(a="1%"!==(e.getComputedStyle(n,null)||{}).top,o="4px"===(e.getComputedStyle(n,null)||{width:"4px"}).width),i.removeChild(t),n=i=null)}var n,i,r,o,a,s,u=mt.createElement("div"),l="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",c="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=u.getElementsByTagName("a")[0],n.style.cssText="float:left;opacity:.5",it.opacity=/^0.5/.test(n.style.opacity),it.cssFloat=!!n.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",it.clearCloneStyle="content-box"===u.style.backgroundClip,n=u=null,ot.extend(it,{reliableHiddenOffsets:function(){if(null!=i)return i;var e,t,n,r=mt.createElement("div"),o=mt.getElementsByTagName("body")[0];if(o)return r.setAttribute("className","t"),r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=mt.createElement("div"),e.style.cssText=l,o.appendChild(e).appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=r.getElementsByTagName("td"),t[0].style.cssText="padding:0;margin:0;border:0;display:none",n=0===t[0].offsetHeight,t[0].style.display="",t[1].style.display="none",i=n&&0===t[0].offsetHeight,o.removeChild(e),r=o=null,i},boxSizing:function(){return null==r&&t(),r},boxSizingReliable:function(){return null==o&&t(),o},pixelPosition:function(){return null==a&&t(),a},reliableMarginRight:function(){var t,n,i,r;if(null==s&&e.getComputedStyle){if(t=mt.getElementsByTagName("body")[0],!t)return;n=mt.createElement("div"),i=mt.createElement("div"),n.style.cssText=l,t.appendChild(n).appendChild(i),r=i.appendChild(mt.createElement("div")),r.style.cssText=i.style.cssText=c,r.style.marginRight=r.style.width="0",i.style.width="1px",s=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight),t.removeChild(n)}return s}})}(),ot.swap=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r};var sn=/alpha\([^)]*\)/i,un=/opacity\s*=\s*([^)]*)/,ln=/^(none|table(?!-c[ea]).+)/,cn=new RegExp("^("+St+")(.*)$","i"),dn=new RegExp("^([+-])=("+St+")","i"),pn={position:"absolute",visibility:"hidden",display:"block"},fn={letterSpacing:0,fontWeight:400},hn=["Webkit","O","Moz","ms"];ot.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":it.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=ot.camelCase(t),u=e.style;if(t=ot.cssProps[s]||(ot.cssProps[s]=S(u,s)),a=ot.cssHooks[t]||ot.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:u[t];if(o=typeof n,"string"===o&&(r=dn.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(ot.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||ot.cssNumber[s]||(n+="px"),it.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,i)))))try{u[t]="",u[t]=n}catch(l){}}},css:function(e,t,n,i){var r,o,a,s=ot.camelCase(t);return t=ot.cssProps[s]||(ot.cssProps[s]=S(e.style,s)),a=ot.cssHooks[t]||ot.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=nn(e,t,i)),"normal"===o&&t in fn&&(o=fn[t]),""===n||n?(r=parseFloat(o),n===!0||ot.isNumeric(r)?r||0:o):o}}),ot.each(["height","width"],function(e,t){ot.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&ln.test(ot.css(e,"display"))?ot.swap(e,pn,function(){return A(e,t,i)}):A(e,t,i):void 0},set:function(e,n,i){var r=i&&tn(e);return N(e,n,i?M(e,t,i,it.boxSizing()&&"border-box"===ot.css(e,"boxSizing",!1,r),r):0)}}}),it.opacity||(ot.cssHooks.opacity={get:function(e,t){return un.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=ot.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ot.trim(o.replace(sn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=sn.test(o)?o.replace(sn,r):o+" "+r)}}),ot.cssHooks.marginRight=D(it.reliableMarginRight,function(e,t){return t?ot.swap(e,{display:"inline-block"},nn,[e,"marginRight"]):void 0}),ot.each({margin:"",padding:"",border:"Width"},function(e,t){ot.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Et[i]+t]=o[i]||o[i-2]||o[0];return r}},rn.test(e)||(ot.cssHooks[e+t].set=N)}),ot.fn.extend({css:function(e,t){return Mt(this,function(e,t,n){var i,r,o={},a=0;if(ot.isArray(t)){for(i=tn(e),r=t.length;r>a;a++)o[t[a]]=ot.css(e,t[a],!1,i);return o}return void 0!==n?ot.style(e,t,n):ot.css(e,t)},e,t,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Nt(this)?ot(this).show():ot(this).hide()})}}),ot.Tween=j,j.prototype={constructor:j,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ot.cssNumber[n]?"":"px")},cur:function(){var e=j.propHooks[this.prop];return e&&e.get?e.get(this):j.propHooks._default.get(this)},run:function(e){var t,n=j.propHooks[this.prop];return this.pos=t=this.options.duration?ot.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):j.propHooks._default.set(this),this}},j.prototype.init.prototype=j.prototype,j.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ot.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ot.fx.step[e.prop]?ot.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ot.cssProps[e.prop]]||ot.cssHooks[e.prop])?ot.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},j.propHooks.scrollTop=j.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ot.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ot.fx=j.prototype.init,ot.fx.step={};var mn,gn,vn=/^(?:toggle|show|hide)$/,yn=new RegExp("^(?:([+-])=|)("+St+")([a-z%]*)$","i"),bn=/queueHooks$/,wn=[$],_n={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=yn.exec(t),o=r&&r[3]||(ot.cssNumber[e]?"":"px"),a=(ot.cssNumber[e]||"px"!==o&&+i)&&yn.exec(ot.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do s=s||".5",a/=s,ot.style(n.elem,e,a+o);while(s!==(s=n.cur()/i)&&1!==s&&--u)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};ot.Animation=ot.extend(I,{tweener:function(e,t){ot.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],_n[n]=_n[n]||[],_n[n].unshift(t)},prefilter:function(e,t){t?wn.unshift(e):wn.push(e)}}),ot.speed=function(e,t,n){var i=e&&"object"==typeof e?ot.extend({},e):{complete:n||!n&&t||ot.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ot.isFunction(t)&&t};return i.duration=ot.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ot.fx.speeds?ot.fx.speeds[i.duration]:ot.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ot.isFunction(i.old)&&i.old.call(this),i.queue&&ot.dequeue(this,i.queue)},i},ot.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Nt).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=ot.isEmptyObject(e),o=ot.speed(t,n,i),a=function(){var t=I(this,ot.extend({},e),o);(r||ot._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=ot.timers,a=ot._data(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&bn.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));(t||!n)&&ot.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ot._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=ot.timers,a=i?i.length:0;for(n.finish=!0,ot.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ot.each(["toggle","show","hide"],function(e,t){var n=ot.fn[t];ot.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(P(t,!0),e,i,r)}}),ot.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ot.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ot.timers=[],ot.fx.tick=function(){var e,t=ot.timers,n=0;for(mn=ot.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||ot.fx.stop(),mn=void 0},ot.fx.timer=function(e){ot.timers.push(e),e()?ot.fx.start():ot.timers.pop()},ot.fx.interval=13,ot.fx.start=function(){gn||(gn=setInterval(ot.fx.tick,ot.fx.interval))},ot.fx.stop=function(){clearInterval(gn),gn=null},ot.fx.speeds={slow:600,fast:200,_default:400},ot.fn.delay=function(e,t){return e=ot.fx?ot.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e,t,n,i,r=mt.createElement("div");r.setAttribute("className","t"),r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=r.getElementsByTagName("a")[0],n=mt.createElement("select"),i=n.appendChild(mt.createElement("option")),t=r.getElementsByTagName("input")[0],e.style.cssText="top:1px",it.getSetAttribute="t"!==r.className,it.style=/top/.test(e.getAttribute("style")),it.hrefNormalized="/a"===e.getAttribute("href"),it.checkOn=!!t.value,it.optSelected=i.selected,it.enctype=!!mt.createElement("form").enctype,n.disabled=!0,it.optDisabled=!i.disabled,t=mt.createElement("input"),t.setAttribute("value",""),it.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),it.radioValue="t"===t.value,e=t=n=i=r=null}();var xn=/\r/g;ot.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=ot.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,ot(this).val()):e,null==r?r="":"number"==typeof r?r+="":ot.isArray(r)&&(r=ot.map(r,function(e){return null==e?"":e+""})),t=ot.valHooks[this.type]||ot.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=ot.valHooks[r.type]||ot.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(xn,""):null==n?"":n)}}}),ot.extend({valHooks:{option:{get:function(e){var t=ot.find.attr(e,"value");return null!=t?t:ot.text(e)}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,u=0>r?s:o?r:0;s>u;u++)if(n=i[u],!(!n.selected&&u!==r||(it.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ot.nodeName(n.parentNode,"optgroup"))){if(t=ot(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=ot.makeArray(t),a=r.length;a--;)if(i=r[a],ot.inArray(ot.valHooks.option.get(i),o)>=0)try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),r}}}}),ot.each(["radio","checkbox"],function(){ot.valHooks[this]={set:function(e,t){return ot.isArray(t)?e.checked=ot.inArray(ot(e).val(),t)>=0:void 0}},it.checkOn||(ot.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var kn,Tn,Cn=ot.expr.attrHandle,Dn=/^(?:checked|selected)$/i,Sn=it.getSetAttribute,En=it.input;ot.fn.extend({attr:function(e,t){return Mt(this,ot.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ot.removeAttr(this,e)})}}),ot.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Tt?ot.prop(e,t,n):(1===o&&ot.isXMLDoc(e)||(t=t.toLowerCase(),i=ot.attrHooks[t]||(ot.expr.match.bool.test(t)?Tn:kn)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=ot.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void ot.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(wt);if(o&&1===e.nodeType)for(;n=o[r++];)i=ot.propFix[n]||n,ot.expr.match.bool.test(n)?En&&Sn||!Dn.test(n)?e[i]=!1:e[ot.camelCase("default-"+n)]=e[i]=!1:ot.attr(e,n,""),e.removeAttribute(Sn?n:i)},attrHooks:{type:{set:function(e,t){if(!it.radioValue&&"radio"===t&&ot.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Tn={set:function(e,t,n){return t===!1?ot.removeAttr(e,n):En&&Sn||!Dn.test(n)?e.setAttribute(!Sn&&ot.propFix[n]||n,n):e[ot.camelCase("default-"+n)]=e[n]=!0,n}},ot.each(ot.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Cn[t]||ot.find.attr;Cn[t]=En&&Sn||!Dn.test(t)?function(e,t,i){var r,o;return i||(o=Cn[t],Cn[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,Cn[t]=o),r}:function(e,t,n){return n?void 0:e[ot.camelCase("default-"+t)]?t.toLowerCase():null}}),En&&Sn||(ot.attrHooks.value={set:function(e,t,n){return ot.nodeName(e,"input")?void(e.defaultValue=t):kn&&kn.set(e,t,n)}}),Sn||(kn={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Cn.id=Cn.name=Cn.coords=function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},ot.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:kn.set},ot.attrHooks.contenteditable={set:function(e,t,n){kn.set(e,""===t?!1:t,n)}},ot.each(["width","height"],function(e,t){ot.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),it.style||(ot.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Nn=/^(?:input|select|textarea|button|object)$/i,Mn=/^(?:a|area)$/i;ot.fn.extend({prop:function(e,t){return Mt(this,ot.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ot.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),ot.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!ot.isXMLDoc(e),o&&(t=ot.propFix[t]||t,r=ot.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=ot.find.attr(e,"tabindex");return t?parseInt(t,10):Nn.test(e.nodeName)||Mn.test(e.nodeName)&&e.href?0:-1}}}}),it.hrefNormalized||ot.each(["href","src"],function(e,t){ot.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),it.optSelected||(ot.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ot.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ot.propFix[this.toLowerCase()]=this}),it.enctype||(ot.propFix.enctype="encoding");var An=/[\t\r\n\f]/g;ot.fn.extend({addClass:function(e){var t,n,i,r,o,a,s=0,u=this.length,l="string"==typeof e&&e;if(ot.isFunction(e))return this.each(function(t){ot(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(wt)||[];u>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(An," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=ot.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,i,r,o,a,s=0,u=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ot.isFunction(e))return this.each(function(t){ot(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(wt)||[];u>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(An," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");a=e?ot.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(ot.isFunction(e)?function(n){ot(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,r=ot(this),o=e.match(wt)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===Tt||"boolean"===n)&&(this.className&&ot._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ot._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(An," ").indexOf(t)>=0)return!0;return!1}}),ot.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ot.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ot.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var jn=ot.now(),On=/\?/,Pn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ot.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,r=ot.trim(t+"");return r&&!ot.trim(r.replace(Pn,function(e,t,r,o){return n&&t&&(i=0),0===i?e:(n=r||t,i+=!o-!r,"")}))?Function("return "+r)():ot.error("Invalid JSON: "+t)},ot.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new DOMParser,n=i.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(r){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ot.error("Invalid XML: "+t),n};var Fn,$n,Ln=/#.*$/,In=/([?&])_=[^&]*/,qn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Hn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Rn=/^(?:GET|HEAD)$/,zn=/^\/\//,Bn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Un={},Yn={},Wn="*/".concat("*");try{$n=location.href}catch(Xn){$n=mt.createElement("a"),$n.href="",$n=$n.href}Fn=Bn.exec($n.toLowerCase())||[],ot.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:$n,type:"GET",isLocal:Hn.test(Fn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ot.parseJSON,"text xml":ot.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?R(R(e,ot.ajaxSettings),t):R(ot.ajaxSettings,e)},ajaxPrefilter:q(Un),ajaxTransport:q(Yn),ajax:function(e,t){function n(e,t,n,i){var r,c,v,y,w,x=t;2!==b&&(b=2,s&&clearTimeout(s),l=void 0,a=i||"",_.readyState=e>0?4:0,r=e>=200&&300>e||304===e,n&&(y=z(d,_,n)),y=B(d,y,_,r),r?(d.ifModified&&(w=_.getResponseHeader("Last-Modified"),w&&(ot.lastModified[o]=w),w=_.getResponseHeader("etag"),w&&(ot.etag[o]=w)),204===e||"HEAD"===d.type?x="nocontent":304===e?x="notmodified":(x=y.state,c=y.data,v=y.error,r=!v)):(v=x,(e||!x)&&(x="error",0>e&&(e=0))),_.status=e,_.statusText=(t||x)+"",r?h.resolveWith(p,[c,x,_]):h.rejectWith(p,[_,x,v]),_.statusCode(g),g=void 0,u&&f.trigger(r?"ajaxSuccess":"ajaxError",[_,d,r?c:v]),m.fireWith(p,[_,x]),u&&(f.trigger("ajaxComplete",[_,d]),--ot.active||ot.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,a,s,u,l,c,d=ot.ajaxSetup({},t),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?ot(p):ot.event,h=ot.Deferred(),m=ot.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,w="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!c)for(c={};t=qn.exec(a);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||w;return l&&l.abort(t),n(0,t),this}};if(h.promise(_).complete=m.add,_.success=_.done,_.error=_.fail,d.url=((e||d.url||$n)+"").replace(Ln,"").replace(zn,Fn[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=ot.trim(d.dataType||"*").toLowerCase().match(wt)||[""],null==d.crossDomain&&(i=Bn.exec(d.url.toLowerCase()),d.crossDomain=!(!i||i[1]===Fn[1]&&i[2]===Fn[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Fn[3]||("http:"===Fn[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ot.param(d.data,d.traditional)),H(Un,d,t,_),2===b)return _;u=d.global,u&&0===ot.active++&&ot.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Rn.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(On.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=In.test(o)?o.replace(In,"$1_="+jn++):o+(On.test(o)?"&":"?")+"_="+jn++)),d.ifModified&&(ot.lastModified[o]&&_.setRequestHeader("If-Modified-Since",ot.lastModified[o]),ot.etag[o]&&_.setRequestHeader("If-None-Match",ot.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Wn+"; q=0.01":""):d.accepts["*"]);for(r in d.headers)_.setRequestHeader(r,d.headers[r]);if(d.beforeSend&&(d.beforeSend.call(p,_,d)===!1||2===b))return _.abort();w="abort";for(r in{success:1,error:1,complete:1})_[r](d[r]);if(l=H(Yn,d,t,_)){_.readyState=1,u&&f.trigger("ajaxSend",[_,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){_.abort("timeout")},d.timeout));try{b=1,l.send(v,n)}catch(x){if(!(2>b))throw x;n(-1,x)}}else n(-1,"No Transport");return _},getJSON:function(e,t,n){return ot.get(e,t,n,"json")},getScript:function(e,t){return ot.get(e,void 0,t,"script")}}),ot.each(["get","post"],function(e,t){ot[t]=function(e,n,i,r){return ot.isFunction(n)&&(r=r||i,i=n,n=void 0),ot.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),ot.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ot.fn[t]=function(e){return this.on(t,e)}}),ot._evalUrl=function(e){return ot.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},ot.fn.extend({wrapAll:function(e){if(ot.isFunction(e))return this.each(function(t){ot(this).wrapAll(e.call(this,t))});if(this[0]){var t=ot(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(ot.isFunction(e)?function(t){ot(this).wrapInner(e.call(this,t))}:function(){var t=ot(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ot.isFunction(e);return this.each(function(n){ot(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ot.nodeName(this,"body")||ot(this).replaceWith(this.childNodes)}).end()}}),ot.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!it.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||ot.css(e,"display"))},ot.expr.filters.visible=function(e){return!ot.expr.filters.hidden(e)};var Gn=/%20/g,Vn=/\[\]$/,Jn=/\r?\n/g,Zn=/^(?:submit|button|image|reset|file)$/i,Qn=/^(?:input|select|textarea|keygen)/i;ot.param=function(e,t){var n,i=[],r=function(e,t){t=ot.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=ot.ajaxSettings&&ot.ajaxSettings.traditional),ot.isArray(e)||e.jquery&&!ot.isPlainObject(e))ot.each(e,function(){r(this.name,this.value)});else for(n in e)U(n,e[n],t,r);return i.join("&").replace(Gn,"+")},ot.fn.extend({serialize:function(){return ot.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ot.prop(this,"elements");return e?ot.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ot(this).is(":disabled")&&Qn.test(this.nodeName)&&!Zn.test(e)&&(this.checked||!At.test(e))}).map(function(e,t){var n=ot(this).val();return null==n?null:ot.isArray(n)?ot.map(n,function(e){return{name:t.name,value:e.replace(Jn,"\r\n")}}):{name:t.name,value:n.replace(Jn,"\r\n")}}).get()}}),ot.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Y()||W()}:Y;var Kn=0,ei={},ti=ot.ajaxSettings.xhr();e.ActiveXObject&&ot(e).on("unload",function(){for(var e in ei)ei[e](void 0,!0)}),it.cors=!!ti&&"withCredentials"in ti,ti=it.ajax=!!ti,ti&&ot.ajaxTransport(function(e){if(!e.crossDomain||it.cors){var t;return{send:function(n,i){var r,o=e.xhr(),a=++Kn;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&o.setRequestHeader(r,n[r]+"");o.send(e.hasContent&&e.data||null),t=function(n,r){var s,u,l;if(t&&(r||4===o.readyState))if(delete ei[a],t=void 0,o.onreadystatechange=ot.noop,r)4!==o.readyState&&o.abort();else{l={},s=o.status,"string"==typeof o.responseText&&(l.text=o.responseText);try{u=o.statusText}catch(c){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=l.text?200:404}l&&i(s,u,l,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=ei[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),ot.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ot.globalEval(e),e}}}),ot.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ot.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=mt.head||ot("head")[0]||mt.documentElement;return{send:function(i,r){t=mt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||r(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ni=[],ii=/(=)\?(?=&|$)|\?\?/;ot.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ni.pop()||ot.expando+"_"+jn++;return this[e]=!0,e}}),ot.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,a,s=t.jsonp!==!1&&(ii.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ii.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=ot.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ii,"$1"+r):t.jsonp!==!1&&(t.url+=(On.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||ot.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always(function(){e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,ni.push(r)),a&&ot.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0
}),ot.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||mt;var i=pt.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=ot.buildFragment([e],t,r),r&&r.length&&ot(r).remove(),ot.merge([],i.childNodes))};var ri=ot.fn.load;ot.fn.load=function(e,t,n){if("string"!=typeof e&&ri)return ri.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return s>=0&&(i=e.slice(s,e.length),e=e.slice(0,s)),ot.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&ot.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){r=arguments,a.html(i?ot("<div>").append(ot.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,r||[e.responseText,t,e])}),this},ot.expr.filters.animated=function(e){return ot.grep(ot.timers,function(t){return e===t.elem}).length};var oi=e.document.documentElement;return ot.offset={setOffset:function(e,t,n){var i,r,o,a,s,u,l,c=ot.css(e,"position"),d=ot(e),p={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=ot.css(e,"top"),u=ot.css(e,"left"),l=("absolute"===c||"fixed"===c)&&ot.inArray("auto",[o,u])>-1,l?(i=d.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(u)||0),ot.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+r),"using"in t?t.using.call(e,p):d.css(p)}},ot.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){ot.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o)return t=o.documentElement,ot.contains(t,r)?(typeof r.getBoundingClientRect!==Tt&&(i=r.getBoundingClientRect()),n=X(o),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===ot.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ot.nodeName(e[0],"html")||(n=e.offset()),n.top+=ot.css(e[0],"borderTopWidth",!0),n.left+=ot.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ot.css(i,"marginTop",!0),left:t.left-n.left-ot.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||oi;e&&!ot.nodeName(e,"html")&&"static"===ot.css(e,"position");)e=e.offsetParent;return e||oi})}}),ot.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);ot.fn[e]=function(i){return Mt(this,function(e,i,r){var o=X(e);return void 0===r?o?t in o?o[t]:o.document.documentElement[i]:e[i]:void(o?o.scrollTo(n?ot(o).scrollLeft():r,n?r:ot(o).scrollTop()):e[i]=r)},e,i,arguments.length,null)}}),ot.each(["top","left"],function(e,t){ot.cssHooks[t]=D(it.pixelPosition,function(e,n){return n?(n=nn(e,t),on.test(n)?ot(e).position()[t]+"px":n):void 0})}),ot.each({Height:"height",Width:"width"},function(e,t){ot.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){ot.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return Mt(this,function(t,n,i){var r;return ot.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?ot.css(t,n,a):ot.style(t,n,i,a)},t,o?i:void 0,o,null)}})}),ot.fn.size=function(){return this.length},ot.fn.andSelf=ot.fn.addBack,"function"==typeof n&&n.amd&&n("jquery",[],function(){return ot}),ot.noConflict=function(){},ot}),n("libs/mout/object/hasOwn",[],function(){function e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}return e}),n("libs/mout/object/forIn",["./hasOwn"],function(e){function t(){o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=!0;for(var e in{toString:null})r=!1}function n(n,a,s){var u,l=0;null==r&&t();for(u in n)if(i(a,n,u,s)===!1)break;if(r)for(var c=n.constructor,d=!!c&&n===c.prototype;(u=o[l++])&&("constructor"===u&&(d||!e(n,u))||n[u]===Object.prototype[u]||i(a,n,u,s)!==!1););}function i(e,t,n,i){return e.call(i,t[n],n,t)}var r,o;return n}),n("libs/mout/object/forOwn",["./hasOwn","./forIn"],function(e,t){function n(n,i,r){t(n,function(t,o){return e(n,o)?i.call(r,n[o],o,n):void 0})}return n}),n("libs/mout/lang/isPrimitive",[],function(){function e(e){switch(typeof e){case"string":case"number":case"boolean":return!0}return null==e}return e}),n("libs/mout/object/get",["../lang/isPrimitive"],function(){function e(e,t){for(var n=t.split("."),i=n.pop();t=n.shift();)if(e=e[t],null==e)return;return e[i]}return e}),n("helpcenter-adapter",[],function(){return window.HelpCenter||{}}),n("hcbridge",["require","libs/mout/object/forOwn","libs/mout/object/get","helpcenter-adapter"],function(e){var t,n=e("libs/mout/object/forOwn"),i=e("libs/mout/object/get"),r=e("helpcenter-adapter");return t=function(e){this.data={},e.internal&&(this.data=e.internal,delete e.internal),n(e,function(e,t){this.data[t]=e},this)},t.prototype={get:function(e,t){var n=i(this.data,e);return"undefined"==typeof n&&"undefined"!=typeof t&&(n=t),n}},t.instance=new t(r),t}),n("jquery.ajaxsetup",["require","jquery","hcbridge"],function(e){var t=e("jquery"),n=e("hcbridge").instance,i=n.get("current_session.csrf_token");i&&t.ajaxSetup({beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",i)}})}),function(e,t){"function"==typeof n&&n.amd?n("jquery.iframe-transport",["jquery"],t):t(e.jQuery)}(this,function(e){var t=0;e.ajaxTransport("iframe",function(n){if(n.async){var i,r,o;return{send:function(a,s){i=e('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+o+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+o+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),r=e('<iframe src="javascript:false;" name="iframe-transport-'+(t+=1)+'"></iframe>').bind("load",function(){var t,o=e.isArray(n.paramName)?n.paramName:[n.paramName];r.unbind("load").bind("load",function(){var t;try{if(t=r.contents(),!t.length||!t[0].firstChild)throw new Error}catch(n){t=void 0}s(200,"success",{iframe:t}),e('<iframe src="javascript:false;"></iframe>').appendTo(i),i.remove()}),i.prop("target",r.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(t){e(this).prop("name",o[t]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),i.submit(),t&&t.length&&n.fileInput.each(function(n,i){var r=e(t[n]);e(i).prop("name",r.prop("name")),r.replaceWith(i)})}),i.append(r).appendTo(document.body)},abort:function(){r&&r.unbind("load").prop("src","javascript".concat(":false;")),i&&i.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),n("domlib",["jquery","jquery.ajaxsetup","jquery.iframe-transport"],function(e){return e}),n("apps/snippets/screencastViewer",["domlib"],function(e){return function(){var t="570",n="340";e(".zendesk-embedded-screencast").replaceWith(function(){var i=e(this).data("screencastUrl"),r=e('<iframe width="'+t+'" height="'+n+'"/>');return r.attr("src",i)})}}),n("apps/snippets/disableSubmitButton",["domlib"],function(e){return function(t){t.submit(function(){e(this).find("input:submit").prop("disabled",!0)})}}),n("apps/modalForm",["domlib"],function(e){function t(){return e("<iframe/>").css({border:"none",position:"fixed",height:"100%",width:"100%",bottom:"0px",top:"0px",zIndex:9999999})}function n(){i(),p=d.contents().find("form[action]"),p.submit(o),d.contents().find("[data-dismiss]").click(function(){r(),d.remove()}),d.contents().find("body").css("backgroundColor","transparent"),f&&f(p)}function i(){h=document.body.style.overflow,document.body.style.overflow="hidden"}function r(){document.body.style.overflow=h}function o(e){e.preventDefault(),a(),u().always(s).done(l).fail(c)}function a(){p.find(":submit").prop("disabled",!0)}function s(){p.find(":submit").removeAttr("disabled")}function u(){var t=p.prop("action"),n=p.serialize();return e.post(t,n)}function l(t){var n=t.redirect_to||window.top.location.href;e.when(d.fadeOut(200)).done(function(){window.top.location.href=n})}function c(e){var t=e.responseText;p.replaceWith(t),n()}var d,p,f,h;return function(e,i){f=i,d=t(),d.attr("src",e).appendTo(document.body).load(n)}}),n("i18n-adapter",[],function(){var e=window.I18n||{};return e}),function(e,t){"function"==typeof n&&n.amd?n("i18n",["i18n-adapter"],t):t(e.i18n)}(this,function(e){return e.translations=e.translations||{},e.t=function(t,n){if(t){var i=e.translations[t]||e.translations["txt.help_center."+t];if(!i)return t.substring(t.lastIndexOf(".")+1,t.length).replace(/_/g," ");if(n)for(var r in n)if(n.hasOwnProperty(r)){var o=new RegExp("%{"+r+"}","g"),a=new RegExp("{{"+r+"}}","g");i=i.replace(o,n[r]),i=i.replace(a,n[r])}return i}},e}),function(e){function i(e,t){return function(n){return c(e.call(this,n),t)}}function r(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function o(){}function a(e){x(e),u(this,e)}function s(e){var t=g(e),n=t.year||0,i=t.month||0,r=t.week||0,o=t.day||0,a=t.hour||0,s=t.minute||0,u=t.second||0,l=t.millisecond||0;this._input=e,this._milliseconds=+l+1e3*u+6e4*s+36e5*a,this._days=+o+7*r,this._months=+i+12*n,this._data={},this._bubble()}function u(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function l(e){return 0>e?Math.ceil(e):Math.floor(e)}function c(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function d(e,t,n,i){var r,o,a=t._milliseconds,s=t._days,u=t._months;a&&e._d.setTime(+e._d+a*n),(s||u)&&(r=e.minute(),o=e.hour()),s&&e.date(e.date()+s*n),u&&e.month(e.month()+u*n),a&&!i&&it.updateOffset(e),(s||u)&&(e.minute(r),e.hour(o))}function p(e){return"[object Array]"===Object.prototype.toString.call(e)}function f(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function h(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&y(e[i])!==y(t[i]))&&a++;return a+o}function m(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=It[e]||qt[t]||t}return e}function g(e){var t,n,i={};for(n in e)e.hasOwnProperty(n)&&(t=m(n),t&&(i[t]=e[n]));return i}function v(t){var n,i;if(0===t.indexOf("week"))n=7,i="day";else{if(0!==t.indexOf("month"))return;n=12,i="month"}it[t]=function(r,o){var a,s,u=it.fn._lang[t],l=[];if("number"==typeof r&&(o=r,r=e),s=function(e){var t=it().utc().set(i,e);return u.call(it.fn._lang,t,r||"")},null!=o)return s(o);for(a=0;n>a;a++)l.push(s(a));return l}}function y(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function b(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function w(e){return _(e)?366:365}function _(e){return e%4===0&&e%100!==0||e%400===0}function x(e){var t;e._a&&-2===e._pf.overflow&&(t=e._a[ut]<0||e._a[ut]>11?ut:e._a[lt]<1||e._a[lt]>b(e._a[st],e._a[ut])?lt:e._a[ct]<0||e._a[ct]>23?ct:e._a[dt]<0||e._a[dt]>59?dt:e._a[pt]<0||e._a[pt]>59?pt:e._a[ft]<0||e._a[ft]>999?ft:-1,e._pf._overflowDayOfYear&&(st>t||t>lt)&&(t=lt),e._pf.overflow=t)}function k(e){e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function T(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length)),e._isValid}function C(e){return e?e.toLowerCase().replace("_","-"):e}function D(e,t){return t.abbr=e,ht[e]||(ht[e]=new o),ht[e].set(t),ht[e]}function S(e){delete ht[e]}function E(e){var n,i,r,o,a=0,s=function(e){if(!ht[e]&&mt)try{t("./lang/"+e)}catch(n){}return ht[e]};if(!e)return it.fn._lang;if(!p(e)){if(i=s(e))return i;e=[e]}for(;a<e.length;){for(o=C(e[a]).split("-"),n=o.length,r=C(e[a+1]),r=r?r.split("-"):null;n>0;){if(i=s(o.slice(0,n).join("-")))return i;if(r&&r.length>=n&&h(o,r,!0)>=n-1)break;n--}a++}return it.fn._lang}function N(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function M(e){var t,n,i=e.match(bt);for(t=0,n=i.length;n>t;t++)i[t]=Bt[i[t]]?Bt[i[t]]:N(i[t]);return function(r){var o="";for(t=0;n>t;t++)o+=i[t]instanceof Function?i[t].call(r,e):i[t];return o}}function A(e,t){return e.isValid()?(t=j(t,e.lang()),Ht[t]||(Ht[t]=M(t)),Ht[t](e)):e.lang().invalidDate()}function j(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(wt.lastIndex=0;i>=0&&wt.test(e);)e=e.replace(wt,n),wt.lastIndex=0,i-=1;return e}function O(e,t){var n;switch(e){case"DDDD":return kt;case"YYYY":case"GGGG":case"gggg":return Tt;case"YYYYY":case"GGGGG":case"ggggg":return Ct;case"S":case"SS":case"SSS":case"DDD":return xt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return St;case"a":case"A":return E(t._l)._meridiemParse;case"X":return Mt;case"Z":case"ZZ":return Et;case"T":return Nt;case"SSSS":return Dt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"ww":case"W":case"WW":case"e":case"E":return _t;default:return n=new RegExp(R(H(e.replace("\\","")),"i"))}}function P(e){var t=(Et.exec(e)||[])[0],n=(t+"").match(Ft)||["-",0,0],i=+(60*n[1])+y(n[2]);return"+"===n[0]?-i:i}function F(e,t,n){var i,r=n._a;switch(e){case"M":case"MM":null!=t&&(r[ut]=y(t)-1);break;case"MMM":case"MMMM":i=E(n._l).monthsParse(t),null!=i?r[ut]=i:n._pf.invalidMonth=t;break;case"D":case"DD":null!=t&&(r[lt]=y(t));break;case"DDD":case"DDDD":null!=t&&(n._dayOfYear=y(t));break;case"YY":r[st]=y(t)+(y(t)>68?1900:2e3);break;case"YYYY":case"YYYYY":r[st]=y(t);break;case"a":case"A":n._isPm=E(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":r[ct]=y(t);break;case"m":case"mm":r[dt]=y(t);break;case"s":case"ss":r[pt]=y(t);break;case"S":case"SS":case"SSS":case"SSSS":r[ft]=y(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=P(t);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":e=e.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=t)}}function $(e){var t,n,i,r,o,a,s,u,l,c,d=[];if(!e._d){for(i=I(e),e._w&&null==e._a[lt]&&null==e._a[ut]&&(o=function(t){return t?t.length<3?parseInt(t,10)>68?"19"+t:"20"+t:t:null==e._a[st]?it().weekYear():e._a[st]},a=e._w,null!=a.GG||null!=a.W||null!=a.E?s=Z(o(a.GG),a.W||1,a.E,4,1):(u=E(e._l),l=null!=a.d?X(a.d,u):null!=a.e?parseInt(a.e,10)+u._week.dow:0,c=parseInt(a.w,10)||1,null!=a.d&&l<u._week.dow&&c++,s=Z(o(a.gg),c,l,u._week.doy,u._week.dow)),e._a[st]=s.year,e._dayOfYear=s.dayOfYear),e._dayOfYear&&(r=null==e._a[st]?i[st]:e._a[st],e._dayOfYear>w(r)&&(e._pf._overflowDayOfYear=!0),n=W(r,0,e._dayOfYear),e._a[ut]=n.getUTCMonth(),e._a[lt]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=d[t]=i[t];for(;7>t;t++)e._a[t]=d[t]=null==e._a[t]?2===t?1:0:e._a[t];d[ct]+=y((e._tzm||0)/60),d[dt]+=y((e._tzm||0)%60),e._d=(e._useUTC?W:Y).apply(null,d)}}function L(e){var t;e._d||(t=g(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],$(e))}function I(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function q(e){e._a=[],e._pf.empty=!0;var t,n,i,r,o,a=E(e._l),s=""+e._i,u=s.length,l=0;for(i=j(e._f,a).match(bt)||[],t=0;t<i.length;t++)r=i[t],n=(O(r,e).exec(s)||[])[0],n&&(o=s.substr(0,s.indexOf(n)),o.length>0&&e._pf.unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),l+=n.length),Bt[r]?(n?e._pf.empty=!1:e._pf.unusedTokens.push(r),F(r,n,e)):e._strict&&!n&&e._pf.unusedTokens.push(r);e._pf.charsLeftOver=u-l,s.length>0&&e._pf.unusedInput.push(s),e._isPm&&e._a[ct]<12&&(e._a[ct]+=12),e._isPm===!1&&12===e._a[ct]&&(e._a[ct]=0),$(e),x(e)}function H(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})}function R(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function z(e){var t,n,i,r,o;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(r=0;r<e._f.length;r++)o=0,t=u({},e),k(t),t._f=e._f[r],q(t),T(t)&&(o+=t._pf.charsLeftOver,o+=10*t._pf.unusedTokens.length,t._pf.score=o,(null==i||i>o)&&(i=o,n=t));u(e,n||t)}function B(e){var t,n=e._i,i=At.exec(n);if(i){for(e._pf.iso=!0,t=4;t>0;t--)if(i[t]){e._f=Ot[t-1]+(i[6]||" ");break}for(t=0;4>t;t++)if(Pt[t][1].exec(n)){e._f+=Pt[t][0];break}Et.exec(n)&&(e._f+="Z"),q(e)}else e._d=new Date(n)}function U(t){var n=t._i,i=gt.exec(n);n===e?t._d=new Date:i?t._d=new Date(+i[1]):"string"==typeof n?B(t):p(n)?(t._a=n.slice(0),$(t)):f(n)?t._d=new Date(+n):"object"==typeof n?L(t):t._d=new Date(n)}function Y(e,t,n,i,r,o,a){var s=new Date(e,t,n,i,r,o,a);return 1970>e&&s.setFullYear(e),s}function W(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function X(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function G(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function V(e,t,n){var i=at(Math.abs(e)/1e3),r=at(i/60),o=at(r/60),a=at(o/24),s=at(a/365),u=45>i&&["s",i]||1===r&&["m"]||45>r&&["mm",r]||1===o&&["h"]||22>o&&["hh",o]||1===a&&["d"]||25>=a&&["dd",a]||45>=a&&["M"]||345>a&&["MM",at(a/30)]||1===s&&["y"]||["yy",s];return u[2]=t,u[3]=e>0,u[4]=n,G.apply({},u)}function J(e,t,n){var i,r=n-t,o=n-e.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=it(e).add("d",o),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function Z(e,t,n,i,r){var o,a,s=new Date(Date.UTC(e,0)).getUTCDay();return n=null!=n?n:r,o=r-s+(s>i?7:0),a=7*(t-1)+(n-r)+o+1,{year:a>0?e:e-1,dayOfYear:a>0?a:w(e-1)+a}}function Q(e){var t=e._i,n=e._f;return"undefined"==typeof e._pf&&k(e),null===t?it.invalid({nullInput:!0}):("string"==typeof t&&(e._i=t=E().preparse(t)),it.isMoment(t)?(e=u({},t),e._d=new Date(+t._d)):n?p(n)?z(e):q(e):U(e),new a(e))}function K(e,t){it.fn[e]=it.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),it.updateOffset(this),this):this._d["get"+n+t]()}}function et(e){it.duration.fn[e]=function(){return this._data[e]}}function tt(e,t){it.duration.fn["as"+e]=function(){return+this/t}}function nt(e){var t=!1,n=it;"undefined"==typeof ender&&(this.moment=e?function(){return!t&&console&&console.warn&&(t=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),n.apply(null,arguments)}:it)}for(var it,rt,ot="2.4.0",at=Math.round,st=0,ut=1,lt=2,ct=3,dt=4,pt=5,ft=6,ht={},mt="undefined"!=typeof module&&module.exports,gt=/^\/?Date\((\-?\d+)/i,vt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,yt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,bt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,wt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,_t=/\d\d?/,xt=/\d{1,3}/,kt=/\d{3}/,Tt=/\d{1,4}/,Ct=/[+\-]?\d{1,6}/,Dt=/\d+/,St=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Et=/Z|[\+\-]\d\d:?\d\d/i,Nt=/T/i,Mt=/[\+\-]?\d+(\.\d{1,3})?/,At=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d:?\d\d|Z)?)?$/,jt="YYYY-MM-DDTHH:mm:ssZ",Ot=["YYYY-MM-DD","GGGG-[W]WW","GGGG-[W]WW-E","YYYY-DDD"],Pt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ft=/([\+\-]|\d\d)/gi,$t="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Lt={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},It={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},qt={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Ht={},Rt="DDD w W M D d".split(" "),zt="M D H h m s w W".split(" "),Bt={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return c(this.year()%100,2)},YYYY:function(){return c(this.year(),4)},YYYYY:function(){return c(this.year(),5)},gg:function(){return c(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return c(this.weekYear(),5)},GG:function(){return c(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return c(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return y(this.milliseconds()/100)},SS:function(){return c(y(this.milliseconds()/10),2)},SSS:function(){return c(this.milliseconds(),3)},SSSS:function(){return c(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+c(y(e/60),2)+":"+c(y(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+c(y(10*e/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}},Ut=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Rt.length;)rt=Rt.pop(),Bt[rt+"o"]=r(Bt[rt],rt);for(;zt.length;)rt=zt.pop(),Bt[rt+rt]=i(Bt[rt],2);for(Bt.DDDD=i(Bt.DDD,3),u(o.prototype,{set:function(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,i;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=it.utc([2e3,t]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(i.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=it([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return J(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),it=function(t,n,i,r){return"boolean"==typeof i&&(r=i,i=e),Q({_i:t,_f:n,_l:i,_strict:r,_isUTC:!1})},it.utc=function(t,n,i,r){var o;return"boolean"==typeof i&&(r=i,i=e),o=Q({_useUTC:!0,_isUTC:!0,_l:i,_i:t,_f:n,_strict:r}).utc()},it.unix=function(e){return it(1e3*e)},it.duration=function(e,t){var n,i,r,o=it.isDuration(e),a="number"==typeof e,u=o?e._input:a?{}:e,l=null;return a?t?u[t]=e:u.milliseconds=e:(l=vt.exec(e))?(n="-"===l[1]?-1:1,u={y:0,d:y(l[lt])*n,h:y(l[ct])*n,m:y(l[dt])*n,s:y(l[pt])*n,ms:y(l[ft])*n}):(l=yt.exec(e))&&(n="-"===l[1]?-1:1,r=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*n},u={y:r(l[2]),M:r(l[3]),d:r(l[4]),h:r(l[5]),m:r(l[6]),s:r(l[7]),w:r(l[8])}),i=new s(u),o&&e.hasOwnProperty("_lang")&&(i._lang=e._lang),i},it.version=ot,it.defaultFormat=jt,it.updateOffset=function(){},it.lang=function(e,t){var n;return e?(t?D(C(e),t):null===t?(S(e),e="en"):ht[e]||E(e),n=it.duration.fn._lang=it.fn._lang=E(e),n._abbr):it.fn._lang._abbr},it.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),E(e)},it.isMoment=function(e){return e instanceof a},it.isDuration=function(e){return e instanceof s},rt=Ut.length-1;rt>=0;--rt)v(Ut[rt]);for(it.normalizeUnits=function(e){return m(e)},it.invalid=function(e){var t=it.utc(0/0);return null!=e?u(t._pf,e):t._pf.userInvalidated=!0,t},it.parseZone=function(e){return it(e).parseZone()},u(it.fn=a.prototype,{clone:function(){return it(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return A(it(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return T(this)},isDSTShifted:function(){return this._a?this.isValid()&&h(this._a,(this._isUTC?it.utc(this._a):it(this._a)).toArray())>0:!1},parsingFlags:function(){return u({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=A(this,e||it.defaultFormat);return this.lang().postformat(t)},add:function(e,t){var n;return n="string"==typeof e?it.duration(+t,e):it.duration(e,t),d(this,n,1),this},subtract:function(e,t){var n;return n="string"==typeof e?it.duration(+t,e):it.duration(e,t),d(this,n,-1),this},diff:function(e,t,n){var i,r,o=this._isUTC?it(e).zone(this._offset||0):it(e).local(),a=6e4*(this.zone()-o.zone());return t=m(t),"year"===t||"month"===t?(i=432e5*(this.daysInMonth()+o.daysInMonth()),r=12*(this.year()-o.year())+(this.month()-o.month()),r+=(this-it(this).startOf("month")-(o-it(o).startOf("month")))/i,r-=6e4*(this.zone()-it(this).startOf("month").zone()-(o.zone()-it(o).startOf("month").zone()))/i,"year"===t&&(r/=12)):(i=this-o,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-a)/864e5:"week"===t?(i-a)/6048e5:i),n?r:l(r)},from:function(e,t){return it.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(it(),e)},calendar:function(){var e=this.diff(it().zone(this.zone()).startOf("day"),"days",!0),t=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(t,this))},isLeapYear:function(){return _(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=X(e,this.lang()),this.add({d:e-t})):t},month:function(e){var t,n=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&(e=this.lang().monthsParse(e),"number"!=typeof e)?this:(t=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(t,this.daysInMonth())),it.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(e){switch(e=m(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoWeek"===e&&this.isoWeekday(1),this},endOf:function(e){return e=m(e),this.startOf(e).add("isoWeek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)>+it(e).startOf(t)},isBefore:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)<+it(e).startOf(t)},isSame:function(e,t){return t="undefined"!=typeof t?t:"millisecond",+this.clone().startOf(t)===+it(e).startOf(t)},min:function(e){return e=it.apply(null,arguments),this>e?this:e},max:function(e){return e=it.apply(null,arguments),e>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=P(e)),Math.abs(e)<16&&(e=60*e),this._offset=e,this._isUTC=!0,t!==e&&d(this,it.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e=e?it(e).zone():0,(this.zone()-e)%60===0},daysInMonth:function(){return b(this.year(),this.month())},dayOfYear:function(e){var t=at((it(this).startOf("day")-it(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},weekYear:function(e){var t=J(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=J(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=J(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},get:function(e){return e=m(e),this[e]()},set:function(e,t){return e=m(e),"function"==typeof this[e]&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=E(t),this)}}),rt=0;rt<$t.length;rt++)K($t[rt].toLowerCase().replace(/s$/,""),$t[rt]);
K("year","FullYear"),it.fn.days=it.fn.day,it.fn.months=it.fn.month,it.fn.weeks=it.fn.week,it.fn.isoWeeks=it.fn.isoWeek,it.fn.toJSON=it.fn.toISOString,u(it.duration.fn=s.prototype,{_bubble:function(){var e,t,n,i,r=this._milliseconds,o=this._days,a=this._months,s=this._data;s.milliseconds=r%1e3,e=l(r/1e3),s.seconds=e%60,t=l(e/60),s.minutes=t%60,n=l(t/60),s.hours=n%24,o+=l(n/24),s.days=o%30,a+=l(o/30),s.months=a%12,i=l(a/12),s.years=i},weeks:function(){return l(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)},humanize:function(e){var t=+this,n=V(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=it.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=it.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return e=m(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=m(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:it.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),r=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||r||o?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(o?o+"S":""):"P0D"}});for(rt in Lt)Lt.hasOwnProperty(rt)&&(tt(rt,Lt[rt]),et(rt.toLowerCase()));tt("Weeks",6048e5),it.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},it.lang("en",{ordinal:function(e){var t=e%10,n=1===y(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),mt?(module.exports=it,nt(!0)):"function"==typeof n&&n.amd?n("moment",["require","exports","module"],function(t,n,i){return i.config().noGlobal!==!0&&nt(i.config().noGlobal===e),it}):nt()}.call(this),n("apps/snippets/formatDateTime",["require","domlib","i18n","moment"],function(e){var t=e("domlib"),n=e("i18n"),i=e("moment");return function(){var e=i().zone();i.lang(n.locale,n.datetime_translations),t("time").each(function(){var n=t(this),r=n.attr("datetime"),o=i(r).utc().zone(e),a=o.format("YYYY-MM-DD HH:mm");n.attr("title",a),"relative"===n.data("datetime")?n.text(o.fromNow()):"calendar"===n.data("datetime")&&n.text(o.calendar())})}}),n("apps/snippets/populatePendingComments",["require","domlib","hcbridge","apps/snippets/formatDateTime"],function(e){var t=e("domlib"),n=e("hcbridge").instance,i=e("apps/snippets/formatDateTime");return function(){"anonymous"!==n.get("user.role")&&t(".comment-list[data-url]").each(function(){var e=this.getAttribute("data-url");e.length&&t.get(e,t.proxy(function(e){var n=t(e);n.appendTo(this),i(),n.each(function(){window.location.hash==="#"+this.id&&(window.location.hash="",window.location.hash=this.id)})},this))})}}),function(e,t){"function"==typeof n&&n.amd?n("tooltip",["jquery"],t):t(e.jQuery)}(this,function(e){var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,i){var r,o,a,s,u;for(this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.enabled=!0,a=this.options.trigger.split(" "),u=a.length;u--;)s=a[u],"click"==s?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=s&&(r="hover"==s?"mouseenter":"focus",o="hover"==s?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",void(this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show))):n.show()},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",void(this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide))):n.hide()},show:function(){var t,n,i,r,o,a,s=e.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(s),s.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),i=t[0].offsetWidth,r=t[0].offsetHeight,o){case"bottom":a={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":a={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":a={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":a={top:n.top+n.height/2-r/2,left:n.left+n.width}}this.applyPlacement(a,o),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n,i,r,o,a=this.tip(),s=a[0].offsetWidth,u=a[0].offsetHeight;a.offset(e).addClass(t).addClass("in"),n=a[0].offsetWidth,i=a[0].offsetHeight,"top"==t&&i!=u&&(e.top=e.top+u-i,o=!0),"bottom"==t||"top"==t?(r=0,e.left<0&&(r=-2*e.left,e.left=0,a.offset(e),n=a[0].offsetWidth,i=a[0].offsetHeight),this.replaceArrow(r-s+n,n,"left")):this.replaceArrow(i-u,i,"top"),o&&a.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var n=this.tip(),i=e.Event("hide");return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():n.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),r=i.data("tooltip"),o="object"==typeof n&&n;r||i.data("tooltip",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}),n("pages/enduser/articles",["require","domlib","apps/snippets/screencastViewer","hcbridge","apps/snippets/disableSubmitButton","apps/modalForm","apps/snippets/populatePendingComments","tooltip"],function(e){var t=e("domlib"),n=e("apps/snippets/screencastViewer"),i=e("hcbridge").instance,r=e("apps/snippets/disableSubmitButton"),o=e("apps/modalForm"),a=e("apps/snippets/populatePendingComments");e("tooltip"),n(),t("[rel~=tooltip]").tooltip();var s;s=t("manager"===i.get("user.role")?"li.comment":"li.comment[data-author-identifier="+i.get("user.identifier")+"]"),s.find("[data-action='delete']").closest(".dropdown").addBack().removeAttr("hidden"),t("li.comment [data-action='edit']").click(function(){return o(this.href),!1}),a(),r(t(".new_comment"))}),function(e,t){"function"==typeof n&&n.amd?n("jquery.asynchtml",["jquery"],t):t(e.jQuery)}(this,function(e){e.fn.asynchtml=function(t){var n;return n=e.extend({linkSelector:"a[data-asynchtml-ressource]",targetSelector:"[data-asynchtml-target]",sourceSelector:".article-body",readmore:null},t),this.each(function(){function t(t){var i,r,o,a,s;t.preventDefault(),i=e(t.currentTarget),r=i.parent().find(n.targetSelector).first(),o=i.attr("href"),a="true"===i.attr("aria-selected"),s=!!i.data("asynchtml.loaded"),s||(i.data("asynchtml.loaded",!0),r.load([o,n.sourceSelector].join(" "),function(){n.readmore&&r.append('<a href="'+i.attr("href")+'">'+n.readmore+"</a>")})),i.attr("aria-selected",!a)}var i=e(this);i.find(n.linkSelector).attr("aria-selected",!1),i.on("click",n.linkSelector,t)}),this}}),n("apps/asynchtmlSetup",["domlib","i18n","jquery.asynchtml"],function(e,t){e(function(){e("[data-asynchtml]").asynchtml({linkSelector:"a[data-asynchtml-ressource]",targetSelector:"[data-asynchtml-target]",sourceSelector:".article-body",readmore:t.t("txt.help_center.javascripts.components_with_articles.read_more")})})}),n("apps/helpers/extend",[],function(){function e(e){var t,n,i;for(e=e||{},t=[].slice.call(arguments,1),n=0,i=t.length;i>n;n++){var r,o;r=t[n];for(o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}return e}return e}),function(){var e=this,t=e._,n={},i=Array.prototype,r=Object.prototype,o=Function.prototype,a=i.push,s=i.slice,u=i.concat,l=r.toString,c=r.hasOwnProperty,d=i.forEach,p=i.map,f=i.reduce,h=i.reduceRight,m=i.filter,g=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,w=Array.isArray,_=Object.keys,x=o.bind,k=function(e){return e instanceof k?e:this instanceof k?void(this._wrapped=e):new k(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):e._=k,k.VERSION="1.4.4";var T=k.each=k.forEach=function(e,t,i){if(null!=e)if(d&&e.forEach===d)e.forEach(t,i);else if(e.length===+e.length){for(var r=0,o=e.length;o>r;r++)if(t.call(i,e[r],r,e)===n)return}else for(var a in e)if(k.has(e,a)&&t.call(i,e[a],a,e)===n)return};k.map=k.collect=function(e,t,n){var i=[];return null==e?i:p&&e.map===p?e.map(t,n):(T(e,function(e,r,o){i[i.length]=t.call(n,e,r,o)}),i)};var C="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),f&&e.reduce===f)return i&&(t=k.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(T(e,function(e,o,a){r?n=t.call(i,n,e,o,a):(n=e,r=!0)}),!r)throw new TypeError(C);return n},k.reduceRight=k.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),h&&e.reduceRight===h)return i&&(t=k.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var o=e.length;if(o!==+o){var a=k.keys(e);o=a.length}if(T(e,function(s,u,l){u=a?a[--o]:--o,r?n=t.call(i,n,e[u],u,l):(n=e[u],r=!0)}),!r)throw new TypeError(C);return n},k.find=k.detect=function(e,t,n){var i;return D(e,function(e,r,o){return t.call(n,e,r,o)?(i=e,!0):void 0}),i},k.filter=k.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(T(e,function(e,r,o){t.call(n,e,r,o)&&(i[i.length]=e)}),i)},k.reject=function(e,t,n){return k.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)},k.every=k.all=function(e,t,i){t||(t=k.identity);var r=!0;return null==e?r:g&&e.every===g?e.every(t,i):(T(e,function(e,o,a){return(r=r&&t.call(i,e,o,a))?void 0:n}),!!r)};var D=k.some=k.any=function(e,t,i){t||(t=k.identity);var r=!1;return null==e?r:v&&e.some===v?e.some(t,i):(T(e,function(e,o,a){return r||(r=t.call(i,e,o,a))?n:void 0}),!!r)};k.contains=k.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):D(e,function(e){return e===t})},k.invoke=function(e,t){var n=s.call(arguments,2),i=k.isFunction(t);return k.map(e,function(e){return(i?t:e[t]).apply(e,n)})},k.pluck=function(e,t){return k.map(e,function(e){return e[t]})},k.where=function(e,t,n){return k.isEmpty(t)?n?null:[]:k[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},k.findWhere=function(e,t){return k.where(e,t,!0)},k.max=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&k.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return T(e,function(e,r,o){var a=t?t.call(n,e,r,o):e;a>=i.computed&&(i={value:e,computed:a})}),i.value},k.min=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&k.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return T(e,function(e,r,o){var a=t?t.call(n,e,r,o):e;a<i.computed&&(i={value:e,computed:a})}),i.value},k.shuffle=function(e){var t,n=0,i=[];return T(e,function(e){t=k.random(n++),i[n-1]=i[t],i[t]=e}),i};var S=function(e){return k.isFunction(e)?e:function(t){return t[e]}};k.sortBy=function(e,t,n){var i=S(t);return k.pluck(k.map(e,function(e,t,r){return{value:e,index:t,criteria:i.call(n,e,t,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index<t.index?-1:1}),"value")};var E=function(e,t,n,i){var r={},o=S(t||k.identity);return T(e,function(t,a){var s=o.call(n,t,a,e);i(r,s,t)}),r};k.groupBy=function(e,t,n){return E(e,t,n,function(e,t,n){(k.has(e,t)?e[t]:e[t]=[]).push(n)})},k.countBy=function(e,t,n){return E(e,t,n,function(e,t){k.has(e,t)||(e[t]=0),e[t]++})},k.sortedIndex=function(e,t,n,i){n=null==n?k.identity:S(n);for(var r=n.call(i,t),o=0,a=e.length;a>o;){var s=o+a>>>1;n.call(i,e[s])<r?o=s+1:a=s}return o},k.toArray=function(e){return e?k.isArray(e)?s.call(e):e.length===+e.length?k.map(e,k.identity):k.values(e):[]},k.size=function(e){return null==e?0:e.length===+e.length?e.length:k.keys(e).length},k.first=k.head=k.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:s.call(e,0,t)},k.initial=function(e,t,n){return s.call(e,0,e.length-(null==t||n?1:t))},k.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},k.rest=k.tail=k.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},k.compact=function(e){return k.filter(e,k.identity)};var N=function(e,t,n){return T(e,function(e){k.isArray(e)?t?a.apply(n,e):N(e,t,n):n.push(e)}),n};k.flatten=function(e,t){return N(e,t,[])},k.without=function(e){return k.difference(e,s.call(arguments,1))},k.uniq=k.unique=function(e,t,n,i){k.isFunction(t)&&(i=n,n=t,t=!1);var r=n?k.map(e,n,i):e,o=[],a=[];return T(r,function(n,i){(t?i&&a[a.length-1]===n:k.contains(a,n))||(a.push(n),o.push(e[i]))}),o},k.union=function(){return k.uniq(u.apply(i,arguments))},k.intersection=function(e){var t=s.call(arguments,1);return k.filter(k.uniq(e),function(e){return k.every(t,function(t){return k.indexOf(t,e)>=0})})},k.difference=function(e){var t=u.apply(i,s.call(arguments,1));return k.filter(e,function(e){return!k.contains(t,e)})},k.zip=function(){for(var e=s.call(arguments),t=k.max(k.pluck(e,"length")),n=new Array(t),i=0;t>i;i++)n[i]=k.pluck(e,""+i);return n},k.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},k.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=k.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r>i;i++)if(e[i]===t)return i;return-1},k.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(b&&e.lastIndexOf===b)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var r=i?n:e.length;r--;)if(e[r]===t)return r;return-1},k.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,o=new Array(i);i>r;)o[r++]=e,e+=n;return o},k.bind=function(e,t){if(e.bind===x&&x)return x.apply(e,s.call(arguments,1));var n=s.call(arguments,2);return function(){return e.apply(t,n.concat(s.call(arguments)))}},k.partial=function(e){var t=s.call(arguments,1);return function(){return e.apply(this,t.concat(s.call(arguments)))}},k.bindAll=function(e){var t=s.call(arguments,1);return 0===t.length&&(t=k.functions(e)),T(t,function(t){e[t]=k.bind(e[t],e)}),e},k.memoize=function(e,t){var n={};return t||(t=k.identity),function(){var i=t.apply(this,arguments);return k.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},k.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},k.defer=function(e){return k.delay.apply(k,[e,1].concat(s.call(arguments,1)))},k.throttle=function(e,t){var n,i,r,o,a=0,s=function(){a=new Date,r=null,o=e.apply(n,i)};return function(){var u=new Date,l=t-(u-a);return n=this,i=arguments,0>=l?(clearTimeout(r),r=null,a=u,o=e.apply(n,i)):r||(r=setTimeout(s,l)),o}},k.debounce=function(e,t,n){var i,r;return function(){var o=this,a=arguments,s=function(){i=null,n||(r=e.apply(o,a))},u=n&&!i;return clearTimeout(i),i=setTimeout(s,t),u&&(r=e.apply(o,a)),r}},k.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},k.wrap=function(e,t){return function(){var n=[e];return a.apply(n,arguments),t.apply(this,n)}},k.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},k.after=function(e,t){return 0>=e?t():function(){return--e<1?t.apply(this,arguments):void 0}},k.keys=_||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)k.has(e,n)&&(t[t.length]=n);return t},k.values=function(e){var t=[];for(var n in e)k.has(e,n)&&t.push(e[n]);return t},k.pairs=function(e){var t=[];for(var n in e)k.has(e,n)&&t.push([n,e[n]]);return t},k.invert=function(e){var t={};for(var n in e)k.has(e,n)&&(t[e[n]]=n);return t},k.functions=k.methods=function(e){var t=[];for(var n in e)k.isFunction(e[n])&&t.push(n);return t.sort()},k.extend=function(e){return T(s.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},k.pick=function(e){var t={},n=u.apply(i,s.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},k.omit=function(e){var t={},n=u.apply(i,s.call(arguments,1));for(var r in e)k.contains(n,r)||(t[r]=e[r]);return t},k.defaults=function(e){return T(s.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},k.clone=function(e){return k.isObject(e)?k.isArray(e)?e.slice():k.extend({},e):e},k.tap=function(e,t){return t(e),e};var M=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof k&&(e=e._wrapped),t instanceof k&&(t=t._wrapped);var r=l.call(e);if(r!=l.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return i[o]==t;n.push(e),i.push(t);var a=0,s=!0;if("[object Array]"==r){if(a=e.length,s=a==t.length)for(;a--&&(s=M(e[a],t[a],n,i)););}else{var u=e.constructor,c=t.constructor;if(u!==c&&!(k.isFunction(u)&&u instanceof u&&k.isFunction(c)&&c instanceof c))return!1;for(var d in e)if(k.has(e,d)&&(a++,!(s=k.has(t,d)&&M(e[d],t[d],n,i))))break;if(s){for(d in t)if(k.has(t,d)&&!a--)break;s=!a}}return n.pop(),i.pop(),s};k.isEqual=function(e,t){return M(e,t,[],[])},k.isEmpty=function(e){if(null==e)return!0;if(k.isArray(e)||k.isString(e))return 0===e.length;for(var t in e)if(k.has(e,t))return!1;return!0},k.isElement=function(e){return!(!e||1!==e.nodeType)},k.isArray=w||function(e){return"[object Array]"==l.call(e)},k.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){k["is"+e]=function(t){return l.call(t)=="[object "+e+"]"}}),k.isArguments(arguments)||(k.isArguments=function(e){return!(!e||!k.has(e,"callee"))}),"function"!=typeof/./&&(k.isFunction=function(e){return"function"==typeof e}),k.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},k.isNaN=function(e){return k.isNumber(e)&&e!=+e},k.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==l.call(e)},k.isNull=function(e){return null===e},k.isUndefined=function(e){return void 0===e},k.has=function(e,t){return c.call(e,t)},k.noConflict=function(){return e._=t,this},k.identity=function(e){return e},k.times=function(e,t,n){for(var i=Array(e),r=0;e>r;r++)i[r]=t.call(n,r);return i},k.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var A={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};A.unescape=k.invert(A.escape);var j={escape:new RegExp("["+k.keys(A.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(A.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(e){k[e]=function(t){return null==t?"":(""+t).replace(j[e],function(t){return A[e][t]})}}),k.result=function(e,t){if(null==e)return null;var n=e[t];return k.isFunction(n)?n.call(e):n},k.mixin=function(e){T(k.functions(e),function(t){var n=k[t]=e[t];k.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),L.call(this,n.apply(k,e))}})};var O=0;k.uniqueId=function(e){var t=++O+"";return e?e+t:t},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(e,t,n){var i;n=k.defaults({},n,k.templateSettings);var r=new RegExp([(n.escape||P).source,(n.interpolate||P).source,(n.evaluate||P).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(r,function(t,n,i,r,s){return a+=e.slice(o,s).replace($,function(e){return"\\"+F[e]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(a+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(a+="';\n"+r+"\n__p+='"),o=s+t.length,t}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(n.variable||"obj","_",a)}catch(s){throw s.source=a,s}if(t)return i(t,k);var u=function(e){return i.call(this,e,k)};return u.source="function("+(n.variable||"obj")+"){\n"+a+"}",u},k.chain=function(e){return k(e).chain()};var L=function(e){return this._chain?k(e).chain():e};k.mixin(k),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];k.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],L.call(this,n)}}),T(["concat","join","slice"],function(e){var t=i[e];k.prototype[e]=function(){return L.call(this,t.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),n("underscore",function(e){return function(){var t;return t||e._}}(this)),function(){var e,n=this,i=n.Backbone,r=[],o=r.push,a=r.slice,s=r.splice;e="undefined"!=typeof exports?exports:n.Backbone={},e.VERSION="1.0.0";var u=n._;u||"undefined"==typeof t||(u=t("underscore")),e.$=n.jQuery||n.Zepto||n.ender||n.$,e.noConflict=function(){return n.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var l=e.Events={on:function(e,t,n){if(!d(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!d(this,"once",e,[t,n])||!t)return this;var i=this,r=u.once(function(){i.off(e,r),t.apply(this,arguments)});return r._callback=t,this.on(e,r,n)},off:function(e,t,n){var i,r,o,a,s,l,c,p;if(!this._events||!d(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(a=e?[e]:u.keys(this._events),s=0,l=a.length;l>s;s++)if(e=a[s],o=this._events[e]){if(this._events[e]=i=[],t||n)for(c=0,p=o.length;p>c;c++)r=o[c],(t&&t!==r.callback&&t!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=a.call(arguments,1);if(!d(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&p(n,t),i&&p(i,arguments),this},stopListening:function(e,t,n){var i=this._listeners;if(!i)return this;var r=!t&&!n;"object"==typeof t&&(n=this),e&&((i={})[e._listenerId]=e);for(var o in i)i[o].off(t,n,this),r&&delete this._listeners[o];return this}},c=/\s+/,d=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(c.test(n)){for(var o=n.split(c),a=0,s=o.length;s>a;a++)e[t].apply(e,[o[a]].concat(i));return!1}return!0},p=function(e,t){var n,i=-1,r=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,a);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,a,s);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t)}},f={listenTo:"on",listenToOnce:"once"};u.each(f,function(e,t){l[t]=function(t,n,i){var r=this._listeners||(this._listeners={}),o=t._listenerId||(t._listenerId=u.uniqueId("l"));return r[o]=t,"object"==typeof n&&(i=this),t[e](n,i,this),this}}),l.bind=l.on,l.unbind=l.off,u.extend(e,l);var h=e.Model=function(e,t){var n,i=e||{};t||(t={}),this.cid=u.uniqueId("c"),this.attributes={},u.extend(this,u.pick(t,m)),t.parse&&(i=this.parse(i,t)||{}),(n=u.result(this,"defaults"))&&(i=u.defaults({},i,n)),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)},m=["url","urlRoot","collection"];u.extend(h.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return u.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return u.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var i,r,o,a,s,l,c,d;if(null==e)return this;if("object"==typeof e?(r=e,n=t):(r={})[e]=t,n||(n={}),!this._validate(r,n))return!1;o=n.unset,s=n.silent,a=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=u.clone(this.attributes),this.changed={}),d=this.attributes,c=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(i in r)t=r[i],u.isEqual(d[i],t)||a.push(i),u.isEqual(c[i],t)?delete this.changed[i]:this.changed[i]=t,o?delete d[i]:d[i]=t;if(!s){a.length&&(this._pending=!0);for(var p=0,f=a.length;f>p;p++)this.trigger("change:"+a[p],this,d[a[p]],n)}if(l)return this;if(!s)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,u.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,u.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!u.isEmpty(this.changed):u.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?u.clone(this.changed):!1;var t,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var r in e)u.isEqual(i[r],t=e[r])||((n||(n={}))[r]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return u.clone(this._previousAttributes)},fetch:function(e){e=e?u.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){return t.set(t.parse(i,e),e)?(n&&n(t,i,e),void t.trigger("sync",t,i,e)):!1},I(this,e),this.sync("read",this,e)},save:function(e,t,n){var i,r,o,a=this.attributes;if(null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t,!(!i||n&&n.wait||this.set(i,n)))return!1;if(n=u.extend({validate:!0},n),!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=u.extend({},a,i)),void 0===n.parse&&(n.parse=!0);var s=this,l=n.success;return n.success=function(e){s.attributes=a;var t=s.parse(e,n);return n.wait&&(t=u.extend(i||{},t)),u.isObject(t)&&!s.set(t,n)?!1:(l&&l(s,e,n),void s.trigger("sync",s,e,n))},I(this,n),r=this.isNew()?"create":n.patch?"patch":"update","patch"===r&&(n.attrs=i),o=this.sync(r,this,n),i&&n.wait&&(this.attributes=a),o},destroy:function(e){e=e?u.clone(e):{};var t=this,n=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(r){(e.wait||t.isNew())&&i(),n&&n(t,r,e),t.isNew()||t.trigger("sync",t,r,e)},this.isNew())return e.success(),!1;I(this,e);var r=this.sync("delete",this,e);return e.wait||i(),r},url:function(){var e=u.result(this,"urlRoot")||u.result(this.collection,"url")||L();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},u.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=u.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,u.extend(t||{},{validationError:n})),!1):!0}});var g=["keys","values","pairs","invert","pick","omit"];u.each(g,function(e){h.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.attributes),u[e].apply(u,t)}});var v=e.Collection=function(e,t){t||(t={}),t.url&&(this.url=t.url),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,u.extend({silent:!0},t))},y={add:!0,remove:!0,merge:!0},b={add:!0,merge:!1,remove:!1};u.extend(v.prototype,l,{model:h,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return e.sync.apply(this,arguments)},add:function(e,t){return this.set(e,u.defaults(t||{},b))},remove:function(e,t){e=u.isArray(e)?e.slice():[e],t||(t={});var n,i,r,o;for(n=0,i=e.length;i>n;n++)o=this.get(e[n]),o&&(delete this._byId[o.id],delete this._byId[o.cid],r=this.indexOf(o),this.models.splice(r,1),this.length--,t.silent||(t.index=r,o.trigger("remove",o,this,t)),this._removeReference(o));return this},set:function(e,t){t=u.defaults(t||{},y),t.parse&&(e=this.parse(e,t)),u.isArray(e)||(e=e?[e]:[]);var n,i,r,a,l,c=t.at,d=this.comparator&&null==c&&t.sort!==!1,p=u.isString(this.comparator)?this.comparator:null,f=[],h=[],m={};for(n=0,i=e.length;i>n;n++)(r=this._prepareModel(e[n],t))&&((a=this.get(r))?(t.remove&&(m[a.cid]=!0),t.merge&&(a.set(r.attributes,t),d&&!l&&a.hasChanged(p)&&(l=!0))):t.add&&(f.push(r),r.on("all",this._onModelEvent,this),this._byId[r.cid]=r,null!=r.id&&(this._byId[r.id]=r)));if(t.remove){for(n=0,i=this.length;i>n;++n)m[(r=this.models[n]).cid]||h.push(r);h.length&&this.remove(h,t)}if(f.length&&(d&&(l=!0),this.length+=f.length,null!=c?s.apply(this.models,[c,0].concat(f)):o.apply(this.models,f)),l&&this.sort({silent:!0}),t.silent)return this;for(n=0,i=f.length;i>n;n++)(r=f[n]).trigger("add",r,this,t);return l&&this.trigger("sort",this,t),this},reset:function(e,t){t||(t={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);
return t.previousModels=this.models,this._reset(),this.add(e,u.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,u.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,u.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e.cid||e]},at:function(e){return this.models[e]},where:function(e,t){return u.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),u.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(u.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},sortedIndex:function(e,t,n){t||(t=this.comparator);var i=u.isFunction(t)?t:function(e){return e.get(t)};return u.sortedIndex(this.models,e,i,n)},pluck:function(e){return u.invoke(this.models,"get",e)},fetch:function(e){e=e?u.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(i){var r=e.reset?"reset":"set";n[r](i,e),t&&t(n,i,e),n.trigger("sync",n,i,e)},I(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?u.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,i=t.success;return t.success=function(r){t.wait&&n.add(e,t),i&&i(e,r,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof h)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:(this.trigger("invalid",this,e,t),!1)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var w=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];u.each(w,function(e){v.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.models),u[e].apply(u,t)}});var _=["groupBy","countBy","sortBy"];u.each(_,function(e){v.prototype[e]=function(t,n){var i=u.isFunction(t)?t:function(e){return e.get(t)};return u[e](this.models,i,n)}});var x=e.View=function(e){this.cid=u.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},k=/^(\S+)\s*(.*)$/,T=["model","collection","el","id","attributes","className","tagName","events"];u.extend(x.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=u.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(u.isFunction(n)||(n=this[e[t]]),n){var i=t.match(k),r=i[1],o=i[2];n=u.bind(n,this),r+=".delegateEvents"+this.cid,""===o?this.$el.on(r,n):this.$el.on(r,o,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(e){this.options&&(e=u.extend({},u.result(this,"options"),e)),u.extend(this,u.pick(e,T)),this.options=e},_ensureElement:function(){if(this.el)this.setElement(u.result(this,"el"),!1);else{var t=u.extend({},u.result(this,"attributes"));this.id&&(t.id=u.result(this,"id")),this.className&&(t["class"]=u.result(this,"className"));var n=e.$("<"+u.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}}),e.sync=function(t,n,i){var r=C[t];u.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:r,dataType:"json"};if(i.url||(o.url=u.result(n,"url")||L()),null!=i.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),i.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){o.type="POST",i.emulateJSON&&(o.data._method=r);var a=i.beforeSend;i.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",r),a?a.apply(this,arguments):void 0}}"GET"===o.type||i.emulateJSON||(o.processData=!1),"PATCH"!==o.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var s=i.xhr=e.ajax(u.extend(o,i));return n.trigger("request",n,s,i),s};var C={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var D=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},S=/\((.*?)\)/g,E=/(\(\?)?:\w+/g,N=/\*\w+/g,M=/[\-{}\[\]+?.,\\\^$|#\s]/g;u.extend(D.prototype,l,{initialize:function(){},route:function(t,n,i){u.isRegExp(t)||(t=this._routeToRegExp(t)),u.isFunction(n)&&(i=n,n=""),i||(i=this[n]);var r=this;return e.history.route(t,function(o){var a=r._extractParameters(t,o);i&&i.apply(r,a),r.trigger.apply(r,["route:"+n].concat(a)),r.trigger("route",n,a),e.history.trigger("route",r,n,a)}),this},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=u.result(this,"routes");for(var e,t=u.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(M,"\\$&").replace(S,"(?:$1)?").replace(E,function(e,t){return t?e:"([^/]+)"}).replace(N,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return u.map(n,function(e){return e?decodeURIComponent(e):null})}});var A=e.History=function(){this.handlers=[],u.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},j=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,P=/msie [\w.]+/,F=/\/$/;A.started=!1,u.extend(A.prototype,l,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(F,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(j,"")},start:function(t){if(A.started)throw new Error("Backbone.history has already been started");A.started=!0,this.options=u.extend({},{root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),i=document.documentMode,r=P.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);this.root=("/"+this.root+"/").replace(O,"/"),r&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var o=this.location,a=o.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!a?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&a&&o.hash&&(this.fragment=this.getHash().replace(j,""),this.history.replaceState({},document.title,this.root+this.fragment+o.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),A.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=u.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return n},navigate:function(e,t){if(!A.started)return!1;if(t&&t!==!0||(t={trigger:t}),e=this.getFragment(e||""),this.fragment!==e){this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),e.history=new A;var $=function(e,t){var n,i=this;n=e&&u.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},u.extend(n,i,t);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,e&&u.extend(n.prototype,e),n.__super__=i.prototype,n};h.extend=v.extend=D.extend=x.extend=A.extend=$;var L=function(){throw new Error('A "url" property or function must be specified')},I=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}}}.call(this),n("backbone",["underscore","domlib"],function(e){return function(){var t,n;return n=function(e,t){return this.Backbone.$=t,this.Backbone},t=n.apply(e,arguments),t||e.Backbone}}(this)),n("apps/recentActivity/models/Activity",["require","backbone","underscore"],function(e){var t=e("backbone"),n=e("underscore");return t.Model.extend({defaults:{id:null,action:"",title:"",url:"#",timestamp:"",comment_count:null,breadcrumbs:[]},validate:function(e){var t=["article_created","article_updated","article_comment_added","post_created","post_updated","post_comment_added","question_created","question_updated","answer_added"];return n.indexOf(t,e.action)<0?"Unknown action type":void 0}})}),n("apps/recentActivity/Mediator",["require","backbone","underscore"],function(e){var t=e("backbone"),n=e("underscore"),i=function(){this._events={}};return n.extend(i.prototype,t.Events),i.instance=new i,i}),n("apps/recentActivity/models/Pagination",["require","backbone","../Mediator"],function(e){var t=e("backbone"),n=e("../Mediator").instance;return t.Model.extend({defaults:{page:0,previous_page:null,next_page:null,per_page:5,page_count:null,count:0},initialize:function(){this.listenTo(this,"change:page_count",this.onChangePageCount,this),this.listenTo(this,"change:page",this.onChangePage,this)},onChangePageCount:function(){0===this.get("page_count")&&n.trigger("pagination:no_pages",this)},onChangePage:function(){this.get("page_count")>0&&n.trigger("pagination:changed",this)}})}),n("apps/recentActivity/collections/Activities",["require","backbone","underscore","hcbridge","../models/Activity","../models/Pagination","../Mediator"],function(e){var t=e("backbone"),n=e("underscore"),i=e("hcbridge").instance,r=e("../models/Activity"),o=e("../models/Pagination"),a=e("../Mediator").instance;return t.Collection.extend({model:r,initialize:function(e){e=e||{},this.url=e.url,this.pagination=new o({per_page:5})},fetchMore:function(e){e=e||{};var t=this.pagination.get("page")+1;return this.pagination.get("page")===this.pagination.get("page_count")?!1:(this.first()&&(e.data={page:t,since:this.first().get("timestamp")}),this.fetch(e))},fetch:function(e){var n=this;e=e||{},e.data=e.data||{},e.data.page=e.data.page||this.pagination.get("page"),e.data.per_page=e.data.per_page||this.pagination.get("per_page"),e.data.locale=i.get("current_session.locale"),e.error=function(){a.trigger("activities:loaderror",n)},e.complete=function(){a.trigger("activities:loadend",n)},a.trigger("activities:loadstart",n),t.Collection.prototype.fetch.call(this,e)},parse:function(e){var t={},i=e.activities||[],r=n.keys(this.pagination.attributes);return n.each(r,function(n){t[n]=e[n]},this),this.pagination.set(t),i}})}),function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],i=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,r=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,o="undefined"!=typeof location&&location.href,a=o&&location.protocol&&location.protocol.replace(/\:/,""),s=o&&location.hostname,u=o&&(location.port||void 0),l=[];n("text",[],function(){var n,c;return n={version:"1.0.8",strip:function(e){if(e){e=e.replace(i,"");var t=e.match(r);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var t,n,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(n=0;3>n;n++){i=e[n];try{t=new ActiveXObject(i)}catch(r){}if(t){e=[i];break}}return t},parseName:function(e){var t=!1,n=e.indexOf("."),i=e.substring(0,n),r=e.substring(n+1,e.length);return n=r.indexOf("!"),-1!==n&&(t=r.substring(n+1,r.length),t="strip"===t,r=r.substring(0,n)),{moduleName:i,ext:r,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,i,r){var o,a,s,u=n.xdRegExp.exec(e);return u?(o=u[2],a=u[3],a=a.split(":"),s=a[1],a=a[0],!(o&&o!==t||a&&a!==i||(s||a)&&s!==r)):!0},finishLoad:function(e,t,i,r,o){i=t?n.strip(i):i,o.isBuild&&(l[e]=i),r(i)},load:function(e,t,i,r){if(r.isBuild&&!r.inlineText)return void i();var l=n.parseName(e),c=l.moduleName+"."+l.ext,d=t.toUrl(c),p=r&&r.text&&r.text.useXhr||n.useXhr;!o||p(d,a,s,u)?n.get(d,function(t){n.finishLoad(e,l.strip,t,i,r)}):t([c],function(e){n.finishLoad(l.moduleName+"."+l.ext,l.strip,e,i,r)})},write:function(e,t,i){if(l.hasOwnProperty(t)){var r=n.jsEscape(l[t]);i.asModule(e+"!"+t,"define(function () { return '"+r+"';});\n")}},writeFile:function(e,t,i,r,o){var a=n.parseName(t),s=a.moduleName+"."+a.ext,u=i.toUrl(a.moduleName+"."+a.ext)+".js";n.load(s,i,function(){var t=function(e){return r(u,e)};t.asModule=function(e,t){return r.asModule(e,u,t)},n.write(e,s,t,o)},o)}},n.createXhr()?n.get=function(e,t){var i=n.createXhr();i.open("GET",e,!0),i.onreadystatechange=function(){4===i.readyState&&t(i.responseText)},i.send(null)}:"undefined"!=typeof process&&process.versions&&process.versions.node?(c=t.nodeRequire("fs"),n.get=function(e,t){var n=c.readFileSync(e,"utf8");0===n.indexOf("﻿")&&(n=n.substring(1)),t(n)}):"undefined"!=typeof Packages&&(n.get=function(e,t){var n,i,r="utf-8",o=new java.io.File(e),a=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),r)),u="";try{for(n=new java.lang.StringBuffer,i=s.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),n.append(i);null!==(i=s.readLine());)n.append(a),n.append(i);u=String(n.toString())}finally{s.close()}t(u)}),n})}(),n("text!apps/recentActivity/templates/activity.html",[],function(){return'<a class="recent-activity-item-parent" href="<%= parent_url %>"><%= parent_name %></a>\n<a class="recent-activity-item-link" href="<%= url %>"><%= title %></a>\n<div class="recent-activity-item-meta">\n  <div class="recent-activity-item-time"><%= time_text %></div>\n  <div class="recent-activity-item-comment"><span><%= comment_count %></span></div>\n</div>\n\n'}),n("apps/recentActivity/views/Activity",["require","backbone","underscore","i18n","moment","text!../templates/activity.html"],function(e){var t=e("backbone"),n=e("underscore"),i=e("i18n"),r=e("moment"),o=e("text!../templates/activity.html");return t.View.extend({tagName:"li",className:"recent-activity-item",initialize:function(){this.template=n.template(o),this.render()},getTranslationForAction:function(){var e,t,n,r;return e=this.model.get("action"),t={article_comment_added:!0,post_comment_added:!0,answer_added:!0},n=t[e]?"comment.added":e.replace("_","."),r="views.admin.shared.recent_activity."+n,i.t(r)},render:function(){var e,i,o,a,s,u,l;i=this.model.get("timestamp"),o=this.getTranslationForAction(),o=o.replace("%{time}",r(i).fromNow()),a=this.model.get("breadcrumbs"),s=n.last(a),u=s.url||"#",l=s.name||"",e=n.extend({time_text:o,parent_name:l,parent_url:u},this.model.toJSON()),this.$el.attr("data-recent-activity-action",e.action),this.$el.html(t.$.parseHTML(this.template(e)))}})}),n("apps/recentActivity/views/Activities",["require","backbone","./Activity"],function(e){var t=e("backbone"),n=e("./Activity");return t.View.extend({tagName:"ul",className:"recent-activity-list",initialize:function(){this.listenTo(this.collection,"reset",this.render,this),this.listenTo(this.collection,"add",this.onAdd,this),this.hide()},onAdd:function(e){var t=new n({model:e});this.el.appendChild(t.el)},hide:function(){this.$el.hide()},show:function(){this.$el.show()},render:function(){var e=document.createDocumentFragment();this.collection.each(function(t){var i=new n({model:t});e.appendChild(i.el)},this),this.el.appendChild(e),this.show()}})}),n("apps/recentActivity/views/Loader",["require","backbone","../Mediator"],function(e){var t=e("backbone"),n=e("../Mediator").instance;return t.View.extend({className:"recent-activity-loader",initialize:function(){this.hide(),this.render(),this.listenTo(n,"activities:loadend",this.hide,this),this.listenTo(n,"activities:loadstart",this.show,this)},hide:function(){this.$el.hide()},show:function(){this.$el.show()},render:function(){this.el.innerHTML="..."}})}),n("apps/recentActivity/views/Header",["require","backbone","i18n"],function(e){var t=e("backbone"),n=e("i18n");return t.View.extend({tagName:"h2",className:"recent-activity-header",initialize:function(){this.render()},render:function(){this.$el.text(n.t("views.admin.shared.recent_activity.title"))}})}),n("text!apps/recentActivity/templates/controls.html",[],function(){return'<a href="#" data-recent-activity-seemore><%= see_more %></a>\n'}),n("apps/recentActivity/views/Controls",["require","backbone","underscore","i18n","text!../templates/controls.html","../Mediator"],function(e){var t=e("backbone"),n=e("underscore"),i=e("i18n"),r=e("text!../templates/controls.html"),o=e("../Mediator").instance;return t.View.extend({className:"recent-activity-controls",initialize:function(){this.listenTo(o,"activities:loadstart",this.hide,this),this.listenTo(o,"activities:loaderror",this.hide,this),this.listenTo(o,"pagination:no_pages",this.hide,this),this.listenTo(o,"pagination:changed",this.onPaginationChange,this),this.template=n.template(r),this.render()},events:{"click [data-recent-activity-seemore]":"onClick"},hide:function(){this.$el.hide()},show:function(){this.$el.show()},onPaginationChange:function(e){e.get("page")===e.get("page_count")?this.hide():this.show()},onClick:function(e){e.preventDefault(),o.trigger("controls:showmore")},render:function(){this.el.innerHTML=this.template({see_more:i.t("views.admin.shared.recent_activity.see_more")})}})}),n("apps/recentActivity/views/Empty",["require","backbone","i18n","../Mediator"],function(e){var t=e("backbone"),n=e("i18n"),i=e("../Mediator").instance;return t.View.extend({className:"recent-activity-no-activities",initialize:function(){this.render(),this.listenTo(i,"pagination:no_pages",this.onNoPages,this),this.listenTo(i,"activities:loaderror",this.onLoadError,this)},onLoadError:function(e){0===e.pagination.get("page")&&this.$el.show()},onNoPages:function(){this.$el.show()},render:function(){var e=n.t("views.admin.shared.recent_activity.no_activities");this.$el.hide(),this.$el.text(e)}})}),n("apps/recentActivity/views/Master",["require","backbone","./Activities","./Loader","./Header","./Controls","./Empty","../Mediator"],function(e){var t=e("backbone"),n=e("./Activities"),i=e("./Loader"),r=e("./Header"),o=e("./Controls"),a=e("./Empty"),s=e("../Mediator").instance,u=t.View.extend({className:"recent-activity",initialize:function(){this.views={},this.views.header=new r,this.views.loader=new i,this.views.controls=new o,this.views.empty=new a,this.views.activities=new n({collection:this.collection}),this.listenTo(s,"controls:showmore",this.onShowMore,this),this.render()},onShowMore:function(){this.collection.fetchMore()},render:function(){var e=document.createDocumentFragment();e.appendChild(this.views.header.el),e.appendChild(this.views.activities.el),e.appendChild(this.views.empty.el),e.appendChild(this.views.loader.el),e.appendChild(this.views.controls.el),this.el.appendChild(e)}});return u}),n("apps/recentActivity/App",["require","../helpers/extend","./collections/Activities","./views/Master"],function(e){var t,n=e("../helpers/extend"),i=e("./collections/Activities"),r=e("./views/Master");return t=function(e){var t=[];this.options=n({el:'[data-app="recent-activity"]',root_url:"/hc/api/internal",ressource:"recent_activities.json",content_type:null,content_id:null},e||{}),"string"==typeof this.options.el&&(this.options.el=document.querySelector(this.options.el)),"string"==typeof this.options.el.innerHTML&&(t.push(this.options.root_url),this.options.content_type&&this.options.content_id?t.push(this.options.content_type,this.options.content_id,this.options.ressource):t.push(this.options.ressource),this.activites=new i,this.activites.url=t.join("/"),this.master=new r({collection:this.activites}),this.options.el.appendChild(this.master.el),this.activites.fetch({reset:!0,data:{page:1}}))}}),n("apps/snippets/setupRecentActivity",["require","apps/recentActivity/App"],function(e){var t=e("apps/recentActivity/App"),n=document.querySelector("[data-app=recent-activity]");if(n){var i=n.getAttribute("data-options"),r=JSON.parse(decodeURIComponent(i));r.el=n,new t(r)}}),n("pages/enduser/categories",["require","apps/asynchtmlSetup","apps/snippets/setupRecentActivity"],function(e){e("apps/asynchtmlSetup"),e("apps/snippets/setupRecentActivity")}),n("tinymce-adapter",[],function(){return window.tinymce||{}}),n("apps/wysiwyg/models/Command",["require","backbone"],function(e){var t=e("backbone");return t.Model.extend({defaults:{command:"",name:"",label:"",selector:"",value:!1}})}),n("apps/wysiwyg/editor",[],function(){function e(){var e={};this.setEditor=function(t){return e=t},this.getEditor=function(){return e}}return e.instance=new e,e}),n("apps/wysiwyg/views/Command",["require","underscore","backbone","../editor"],function(e){var t=e("underscore"),n=e("backbone"),i=e("../editor").instance;return n.View.extend({tagName:"span",attributes:{role:"button"},events:{click:"execCommand"},initialize:function(){this.editor=i.getEditor(),this.editor.on("init",t.bind(this.onEditorReady,this))},onEditorReady:function(){var e=this.model.get("command"),n=this.model.get("selector");n?this.editor.selection.selectorChanged(n,t.bind(this.toggleSelectedState,this)):this.editor.formatter.formatChanged(e,t.bind(this.toggleSelectedState,this))},toggleSelectedState:function(e){this.el.setAttribute("aria-selected",e)},execCommand:function(){var e=this.model.get("command"),t=this.model.get("value");this.editor.execCommand(e,!1,t)}})}),n("apps/wysiwyg/views/Formats",["require","backbone","./Command"],function(e){var t=e("backbone"),n=e("./Command");return t.View.extend({tagName:"span",attributes:{"aria-haspopup":!0,"aria-expanded":!1},events:{"click > [role=button]":"toggleDropdown","blur > [role=menu]":"closeDropdown"},initialize:function(e){this.label=e.label,this.views={toggle:this.buildToggle(),menu:this.buildMenu()},this.render()},buildToggle:function(){return new t.View({tagName:"span",attributes:{role:"button"},className:"wysiwyg-icon-formats"})},buildMenu:function(){var e=new t.View({tagName:"span",attributes:{role:"menu","aria-hidden":!0,tabindex:"-1"}});return this.collection.each(function(t){var i=new n({model:t}),r=t.get("label"),o=t.get("value");i.$el.text(r).attr("data-block",o),e.$el.append(i.el)},this),e},render:function(){this.$el.append([this.views.toggle.el,this.views.menu.el])},toggleDropdown:function(e){e.stopPropagation(),this.$el.attr({"aria-expanded":!0}),this.$("> [role=button]").attr({"aria-selected":!0}),this.$("> [role=menu]").attr({"aria-hidden":!1}).focus()},closeDropdown:function(){this.$el.attr({"aria-expanded":!1}),this.$("> [role=button]").attr({"aria-selected":!1}),this.$("> [role=menu]").attr({"aria-hidden":!0})}})}),n("apps/wysiwyg/emitter",["require","underscore","backbone"],function(e){var t=e("underscore"),n=e("backbone");return t.clone(n.Events)}),function(e){"function"==typeof n&&n.amd?n("jquery.ui.widget",["jquery"],e):e(jQuery)}(function(e,t){var n=0,i=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(o){}r(t)},e.widget=function(t,n,i){var r,o,a,s,u=t.split(".")[0];t=t.split(".")[1],r=u+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[u]=e[u]||{},o=e[u][t],a=e[u][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),s=new n,s.options=e.widget.extend({},s.options),e.each(i,function(t,r){e.isFunction(r)&&(i[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=o,t}}())}),a.prototype=e.widget.extend(s,{widgetEventPrefix:s.widgetEventPrefix||t},i,{constructor:a,namespace:u,widgetName:t,widgetBaseClass:r,widgetFullName:r}),o?(e.each(o._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a)},e.widget.extend=function(n){for(var r,o,a=i.call(arguments,1),s=0,u=a.length;u>s;s++)for(r in a[s])o=a[s][r],a[s].hasOwnProperty(r)&&o!==t&&(n[r]=e.isPlainObject(o)?e.isPlainObject(n[r])?e.widget.extend({},n[r],o):e.widget.extend({},o):o);return n},e.widget.bridge=function(n,r){var o=r.prototype.widgetFullName;e.fn[n]=function(a){var s="string"==typeof a,u=i.call(arguments,1),l=this;return a=!s&&u.length?e.widget.extend.apply(null,[a].concat(u)):a,this.each(s?function(){var i,r=e.data(this,o);return r?e.isFunction(r[a])&&"_"!==a.charAt(0)?(i=r[a].apply(r,u),i!==r&&i!==t?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+a+"'")}:function(){var t=e.data(this,o);t?t.option(a||{})._init():new r(a,this)}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetName,this),e.data(i,this.widgetFullName,this),this._on(this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var r,o,a,s=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(s={},r=n.split("."),n=r.shift(),r.length){for(o=s[n]=e.widget.extend({},this.options[n]),a=0;a<r.length-1;a++)o[r[a]]=o[r[a]]||{},o=o[r[a]];if(n=r.pop(),i===t)return o[n]===t?null:o[n];o[n]=i}else{if(i===t)return this.options[n]===t?null:this.options[n];s[n]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n){var i,r=this;n?(t=i=e(t),this.bindings=this.bindings.add(t)):(n=t,t=this.element,i=this.widget()),e.each(n,function(n,o){function a(){return r.options.disabled===!0||e(this).hasClass("ui-state-disabled")?void 0:("string"==typeof o?r[o]:o).apply(r,arguments)}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||e.guid++);var s=n.match(/^(\w+)\s*(.*)$/),u=s[1]+r.eventNamespace,l=s[2];l?i.delegate(l,u,a):t.bind(u,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,a=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?r===!0||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&e.effects&&(e.effects.effect[s]||e.uiBackCompat!==!1&&e.effects[s])?i[t](r):s!==t&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]
})}),function(e,t){"function"==typeof n&&n.amd?n("jquery.fileupload",["jquery","jquery.ui.widget"],t):t(e.jQuery)}(this,function(e){e.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:e(document),fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,formData:function(e){return e.serializeArray()},add:function(e,t){t.submit()},processData:!1,contentType:!1,cache:!1},_refreshOptionsList:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_BitrateTimer:function(){this.timestamp=+new Date,this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var i=e-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(t-this.loaded)*(1e3/i)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"==typeof t.formData?t.formData(t.form):e.isArray(t.formData)?t.formData:t.formData?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_onProgress:function(e,t){if(e.lengthComputable){var n,i,r=+new Date;if(t._time&&t.progressInterval&&r-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=r,n=t.total||this._getTotal(t.files),i=parseInt(e.loaded/e.total*(t.chunkSize||n),10)+(t.uploadedBytes||0),this._loaded+=i-(t.loaded||t.uploadedBytes||0),t.lengthComputable=!0,t.loaded=i,t.total=n,t.bitrate=t._bitrateTimer.getBitrate(r,i,t.bitrateInterval),this._trigger("progress",e,t),this._trigger("progressall",e,{lengthComputable:!0,loaded:this._loaded,total:this._total,bitrate:this._bitrateTimer.getBitrate(r,this._loaded,t.bitrateInterval)})}},_initProgressListener:function(t){var n=this,i=t.xhr?t.xhr():e.ajaxSettings.xhr();i.upload&&(e(i.upload).bind("progress",function(e){var i=e.originalEvent;e.lengthComputable=i.lengthComputable,e.loaded=i.loaded,e.total=i.total,n._onProgress(e,t)}),t.xhr=function(){return i})},_initXHRData:function(t){var n,i=t.files[0],r=t.multipart||!e.support.xhrFileUpload,o=t.paramName[0];t.headers=t.headers||{},t.contentRange&&(t.headers["Content-Range"]=t.contentRange),r?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:o,value:t.blob}):e.each(t.files,function(e,i){n.push({name:t.paramName[e]||o,value:i})})):(t.formData instanceof FormData?n=t.formData:(n=new FormData,e.each(this._getFormData(t),function(e,t){n.append(t.name,t.value)})),t.blob?(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"',n.append(o,t.blob,i.name)):e.each(t.files,function(e,i){(window.Blob&&i instanceof Blob||window.File&&i instanceof File)&&n.append(t.paramName[e]||o,i,i.name)})),t.data=n):(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"',t.contentType=i.type,t.data=t.blob||i),t.blob=null},_initIframeSettings:function(t){t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&e("<a></a>").prop("href",t.url).prop("host")!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e,"iframe")},_getParamName:function(t){var n=e(t.fileInput),i=t.paramName;return i?e.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var t=e(this),n=t.prop("name")||"files[]",r=(t.prop("files")||[1]).length;r;)i.push(n),r-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,i){var r=e.Deferred(),o=r.promise();return n=n||this.options.context||o,t===!0?r.resolveWith(n,i):t===!1&&r.rejectWith(n,i),o.abort=r.promise,this._enhancePromise(o)},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(t,n){var i,r,o=this,a=t.files[0],s=a.size,u=t.uploadedBytes=t.uploadedBytes||0,l=t.maxChunkSize||s,c=a.slice||a.webkitSlice||a.mozSlice,d=e.Deferred(),p=d.promise();return this._isXHRUpload(t)&&c&&(u||s>l)&&!t.data?n?!0:u>=s?(a.error="Uploaded bytes exceed file size",this._getXHRPromise(!1,t.context,[null,"error",a.error])):(r=function(){var n=e.extend({},t);n.blob=c.call(a,u,u+l,a.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+u+"-"+(u+n.chunkSize-1)+"/"+s,o._initXHRData(n),o._initProgressListener(n),i=(e.ajax(n)||o._getXHRPromise(!1,n.context)).done(function(i,a,l){u=o._getUploadedBytes(l)||u+n.chunkSize,n.loaded||o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:u-n.uploadedBytes,total:u-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=u,s>u?r():d.resolveWith(n.context,[i,a,l])}).fail(function(e,t,i){d.rejectWith(n.context,[e,t,i])})},this._enhancePromise(p),p.abort=function(){return i.abort()},r(),p):!1},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer),this._active+=1,this._loaded+=t.uploadedBytes||0,this._total+=this._getTotal(t.files)},_onDone:function(t,n,i,r){this._isXHRUpload(r)||this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:1,total:1}),r),r.result=t,r.textStatus=n,r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(e,t,n,i){i.jqXHR=e,i.textStatus=t,i.errorThrown=n,this._trigger("fail",null,i),i.recalculateProgress&&(this._loaded-=i.loaded||i.uploadedBytes||0,this._total-=i.total||this._getTotal(i.files))},_onAlways:function(e,t,n,i){this._active-=1,i.textStatus=t,n&&n.always?(i.jqXHR=n,i.result=e):(i.jqXHR=e,i.errorThrown=n),this._trigger("always",null,i),0===this._active&&(this._trigger("stop"),this._loaded=this._total=0,this._bitrateTimer=null)},_onSend:function(t,n){var i,r,o,a,s=this,u=s._getAJAXSettings(n),l=function(){return s._sending+=1,u._bitrateTimer=new s._BitrateTimer,i=i||((r||s._trigger("send",t,u)===!1)&&s._getXHRPromise(!1,u.context,r)||s._chunkedUpload(u)||e.ajax(u)).done(function(e,t,n){s._onDone(e,t,n,u)}).fail(function(e,t,n){s._onFail(e,t,n,u)}).always(function(e,t,n){if(s._sending-=1,s._onAlways(e,t,n,u),u.limitConcurrentUploads&&u.limitConcurrentUploads>s._sending)for(var i,r=s._slots.shift();r;){if(i=r.state?"pending"===r.state():!r.isRejected()){r.resolve();break}r=s._slots.shift()}})};return this._beforeSend(t,u),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),a=o.pipe(l)):a=this._sequence=this._sequence.pipe(l,l),a.abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(o&&o.rejectWith(u.context,r),l())},this._enhancePromise(a)):l()},_onAdd:function(t,n){var i,r,o,a,s=this,u=!0,l=e.extend({},this.options,n),c=l.limitMultiFileUploads,d=this._getParamName(l);if((l.singleFileUploads||c)&&this._isXHRUpload(l))if(!l.singleFileUploads&&c)for(o=[],i=[],a=0;a<n.files.length;a+=c)o.push(n.files.slice(a,a+c)),r=d.slice(a,a+c),r.length||(r=d),i.push(r);else i=d;else o=[n.files],i=[d];return n.originalFiles=n.files,e.each(o||n.files,function(r,a){var l=e.extend({},n);return l.files=o?a:[a],l.paramName=i[r],l.submit=function(){return l.jqXHR=this.jqXHR=s._trigger("submit",t,this)!==!1&&s._onSend(t,this),this.jqXHR},u=s._trigger("add",t,l)}),u},_replaceFileInput:function(t){var n=t.clone(!0);e("<form></form>").append(n)[0].reset(),t.after(n).detach(),e.cleanData(t.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,i){return i===t[0]?n[0]:i}),t[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,n){var i,r=this,o=e.Deferred(),a=function(e){e&&!e.entry&&(e.entry=t),o.resolve([e])};return n=n||"",t.isFile?t._file?(t._file.relativePath=n,o.resolve(t._file)):t.file(function(e){e.relativePath=n,o.resolve(e)},a):t.isDirectory?(i=t.createReader(),i.readEntries(function(e){r._handleFileTreeEntries(e,n+t.name+"/").done(function(e){o.resolve(e)}).fail(a)},a)):o.resolve([]),o.promise()},_handleFileTreeEntries:function(t,n){var i=this;return e.when.apply(e,e.map(t,function(e){return i._handleFileTreeEntry(e,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n,i,r=t.prop("webkitEntries")||t.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if(n=e.makeArray(t.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&e.each(n,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(i=t.prop("value"),!i)return e.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,i={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(i.fileInput).always(function(e){i.files=e,n.options.replaceFileInput&&n._replaceFileInput(i.fileInput),n._trigger("change",t,i)!==!1&&n._onAdd(t,i)})},_onPaste:function(t){var n=t.originalEvent.clipboardData,i=n&&n.items||[],r={files:[]};return e.each(i,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&r.files.push(n)}),this._trigger("paste",t,r)===!1||this._onAdd(t,r)===!1?!1:void 0},_onDrop:function(e){var t=this,n=e.dataTransfer=e.originalEvent.dataTransfer,i={};n&&n.files&&n.files.length&&e.preventDefault(),this._getDroppedFiles(n).always(function(n){i.files=n,t._trigger("drop",e,i)!==!1&&t._onAdd(e,i)})},_onDragOver:function(t){var n=t.dataTransfer=t.originalEvent.dataTransfer;return this._trigger("dragover",t)===!1?!1:void(n&&-1!==e.inArray("Files",n.types)&&(n.dropEffect="copy",t.preventDefault()))},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var i=-1!==e.inArray(t,this._refreshOptionsList);i&&this._destroyEventHandlers(),this._super(t,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_create:function(){var t=this.options;e.extend(t,e(this.element[0].cloneNode(!1)).data()),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=this._loaded=this._total=0,this._initEventHandlers()},_destroy:function(){this._destroyEventHandlers()},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,i,r=this,o=e.Deferred(),a=o.promise();return a.abort=function(){return i=!0,n?n.abort():(o.reject(null,"abort","abort"),a)},this._getFileInputFiles(t.fileInput).always(function(e){i||(t.files=e,n=r._onSend(null,t).then(function(e,t,n){o.resolve(e,t,n)},function(e,t,n){o.reject(e,t,n)}))}),this._enhancePromise(a)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),n("apps/wysiwyg/views/Image",["require","domlib","underscore","i18n","./Command","hcbridge","../emitter","jquery.fileupload"],function(e){var t=e("domlib"),n=e("underscore"),i=e("i18n"),r=e("./Command"),o=e("hcbridge").instance,a=e("../emitter");return e("jquery.fileupload"),r.extend({events:{},initialize:function(){r.prototype.initialize.apply(this,arguments),this.listenTo(a,"upload:filesdropped",this.filesDropped),this.imageOpacityStart=.15,this.render()},render:function(){var e=t("<input type='file' accept='image/gif, image/png, image/jpeg' multiple>");e.fileupload({url:"/hc/user_images",dataType:"json",type:"POST",acceptFileTypes:/(\.|\/)(gif|jpe?g|png)$/i,formData:[{name:"authenticity_token",value:o.get("current_session.csrf_token")}],paramName:"file",dropZone:null,add:n.bind(this.add,this),progress:n.bind(this.progress,this),done:n.bind(this.done,this),fail:n.bind(this.fail,this),always:n.bind(this.always,this)}),this.$el.append(e)},add:function(e,t){if(t.files[0].size>2097152)return void a.trigger("upload:denied",{message:i.t("views.shared.image_upload_generic_error",{max_size:2})});if(!window.FileReader)return void t.submit();var n=t.files[0];this.insertPreview(n).done(t.submit.bind(t))},insertPreview:function(e){var i=t.Deferred(),r=new window.FileReader;return r.onload=function(e,t){var r=t.target.result,o=n.uniqueId("wysiwyg_image_"),s="<div contenteditable='false'><img id='"+o+"' src='"+r+"' style='opacity: "+this.imageOpacityStart+";' /></div><br>";this.model.set({value:s}),this.execCommand(),e.wysiwygImgID=o,a.trigger("upload:preview",{imageId:o}),i.resolve()}.bind(this,e),r.readAsDataURL(e),i.promise()},progress:function(e,t){var n=parseInt(t.loaded/t.total*100,10),i=t.files[0].wysiwygImgID;a.trigger("upload:progress",{imageOpacityStart:this.imageOpacityStart,progress:n,imageId:i})},done:function(e,t){var n=t.result.image.relative_url,i=t.files[0].wysiwygImgID;i?a.trigger("upload:success",{imageURL:n,imageId:i}):(this.model.set({value:"<img src='"+n+"' />"}),this.execCommand(),a.trigger("upload:success"))},fail:function(e,t){var n=t.files[0].wysiwygImgID,r=t.jqXHR.responseJSON?t.jqXHR.responseJSON.error:i.t("views.shared.image_upload_generic_error",{max_size:2});a.trigger("upload:error",{message:r,imageId:n})},always:function(e,t){var n=t.files[0].wysiwygImgID;a.trigger("upload:complete",{imageId:n})},filesDropped:function(e){this.$("input").fileupload("add",{files:e})}})}),n("apps/wysiwyg/views/Link",["require","./Command","../emitter"],function(e){var t=e("./Command"),n=e("../emitter");return t.extend({events:{click:"prompt"},initialize:function(){t.prototype.initialize.apply(this,arguments),this.listenTo(n,"link:submit",this.submit)},prompt:function(){var e=this.editor.selection.getNode(),t=e.getAttribute("href"),i=t||"";n.trigger("link:prompt",{url:i})},submit:function(e){var t=this.editor.selection.getNode(),n=this.editor.selection.getContent({format:"text"}),i=e.url,r=t.getAttribute("href");return i?(i="http"===i.substring(0,4)?i:"http://"+i,r?(t.setAttribute("href",i),void t.setAttribute("data-mce-href",i)):(this.model.set(n?{command:"mceInsertLink",value:{href:i,target:"_blank",rel:null}}:{command:"mceInsertContent",value:"<a href='"+i+"' target='_blank' data-mce-href='"+i+"'>"+i+"</a>&nbsp;"}),void this.execCommand())):void this.editor.execCommand("unlink")}})}),n("apps/wysiwyg/views/Toolbar",["require","underscore","backbone","../models/Command","./Formats","./Command","./Image","./Link"],function(e){var t=e("underscore"),n=e("backbone"),i=e("../models/Command"),r=e("./Formats"),o=e("./Command"),a=e("./Image"),s=e("./Link");return n.View.extend({attributes:{role:"toolbar"},initialize:function(e){this.views=[],t.each(e.items,function(e){switch(e){case"|":this.buildSeparator();break;case"bold":this.buildBoldButton();break;case"italic":this.buildItalicButton();break;case"numlist":this.buildOlButton();break;case"bullist":this.buildUlButton();break;case"formats":this.buildFormatsButton();break;case"image":this.buildImageButton();break;case"link":this.buildLinkButton()}},this),this.render()},buildSeparator:function(){var e=new n.View({tagName:"span",attributes:{role:"separator"}});this.views.push(e)},buildBoldButton:function(){var e=new o({className:"wysiwyg-icon-bold",model:new i({command:"bold",name:"bold",label:"Insert bold text"})});this.views.push(e)},buildItalicButton:function(){var e=new o({className:"wysiwyg-icon-italic",model:new i({command:"italic",name:"italic",label:"Insert italic text"})});this.views.push(e)},buildOlButton:function(){var e=new o({className:"wysiwyg-icon-numlist",model:new i({command:"InsertOrderedList",name:"numlist",label:"Insert numbered list",selector:"ol > li"})});this.views.push(e)},buildUlButton:function(){var e=new o({className:"wysiwyg-icon-bullist",model:new i({command:"InsertUnorderedList",name:"bullist",label:"Insert bulleted list",selector:"ul > li"})});this.views.push(e)},buildFormatsButton:function(){var e=new n.Collection([{command:"FormatBlock",value:"p",label:"Normal text"},{command:"FormatBlock",value:"code",label:"Code"},{command:"FormatBlock",value:"h2",label:"Header 2"},{command:"FormatBlock",value:"h3",label:"Header 3"},{command:"FormatBlock",value:"h4",label:"Header 4"}],{model:i}),t=new r({collection:e,label:"Formats"});this.views.push(t)},buildImageButton:function(){var e=new a({className:"wysiwyg-icon-image",model:new i({command:"mceInsertContent",label:"Insert image",name:"image",selector:"img"})});this.views.push(e)},buildLinkButton:function(){var e=new s({className:"wysiwyg-icon-link",model:new i({label:"Insert link",name:"link",selector:"a[href]"})});this.views.push(e)},render:function(){this.$el.append(t.pluck(this.views,"el"))}})}),n("apps/wysiwyg/views/Iframe",["require","underscore","backbone","../emitter","../editor"],function(e){var t=e("underscore"),n=e("backbone"),i=e("../emitter"),r=e("../editor").instance;return n.View.extend({attributes:{role:"group"},events:{dragover:"emitDragoverEvent"},initialize:function(){this.editor=r.getEditor(),this.$images={},this.listenTo(i,"upload:error",this.uploadError),this.listenTo(i,"upload:preview",this.uploadPreview),this.listenTo(i,"upload:progress",this.updateProgress),this.listenTo(i,"upload:success",this.uploadSuccess),this.listenTo(i,"upload:complete",this.uploadComplete),this.editor.on("init",t.bind(function(){this.setElement(this.editor.iframeElement.contentWindow.document),this.delegateEvents()},this))},emitDragoverEvent:function(){i.trigger("iframe:dragover")},uploadPreview:function(e){var t=this.$("#"+e.imageId);this.$images[e.imageId]=t},updateProgress:function(e){if(e.progress%5===0){var t=this.$images[e.imageId];t.parent().attr({role:"progressbar","aria-valuenow":e.progress});var n=e.imageOpacityStart,i=.01*e.progress;if(!(n>i)){var r="opacity:"+i+";";t.attr({style:r,"data-mce-style":r})}}},uploadSuccess:function(e){var t=this.$images[e.imageId];t.attr({src:e.imageURL,"data-mce-src":e.imageURL,style:"","data-mce-style":""}).parent().removeAttr("role").removeAttr("aria-valuenow").removeAttr("contenteditable")},uploadError:function(e){var t=this.$images[e.imageId];t.parent().remove()},uploadComplete:function(e){delete this.$images[e.imageId]}})}),n("apps/wysiwyg/views/Dropzone",["require","backbone","../emitter"],function(e){var t=e("backbone"),n=e("../emitter");return t.View.extend({tagName:"a",attributes:{"aria-dropeffect":"execute","aria-hidden":"true",title:"Drop file here"},initialize:function(){if(window.File&&window.FileList&&window.FileReader){var e=new XMLHttpRequest;e.upload&&(this.listenTo(n,"iframe:dragover",this.show.bind(this)),document.addEventListener("dragover",this.dragover.bind(this)),document.addEventListener("drop",function(e){e.preventDefault()}),this.el.addEventListener("drop",this.drop.bind(this),!1))}},show:function(){this.$el.attr("aria-hidden",!1)},hide:function(){this.$el.attr("aria-hidden",!0)},dragover:function(e){e.preventDefault(),this.timeout?clearTimeout(this.timeout):this.show(),this.timeout=setTimeout(function(){this.timeout=null,this.hide()}.bind(this),100)},drop:function(e){e.stopPropagation(),e.preventDefault();var t=e.target.files||e.dataTransfer.files;n.trigger("upload:filesdropped",t)}})}),n("text!apps/wysiwyg/templates/link-form.html",[],function(){return'<label>Link:</label>\n<input type="text" value="<%= url %>" placeholder="http://">\n<span role="button">Ok</span>\n<span role="button">Cancel</span>\n'}),n("apps/wysiwyg/views/LinkForm",["require","underscore","backbone","text!../templates/link-form.html","../emitter"],function(e){var t=e("underscore"),n=e("backbone"),i=e("text!../templates/link-form.html"),r=e("../emitter");return n.View.extend({attributes:{role:"form","aria-expanded":!1},template:t.template(i),events:{"click [role=button]:first":"submit","click [role=button]:last":"close","keydown input":"keydown"},initialize:function(){this.listenTo(r,"link:prompt",this.render)},render:function(e){this.$el.html(this.template({url:e.url.replace(/"/g,"&quot;")||""})).attr("aria-expanded",!0).find("input").focus()},submit:function(){var e=this.$("input").val();r.trigger("link:submit",{url:e}),this.close()},close:function(){this.$el.attr("aria-expanded",!1)},keydown:function(e){switch(e.keyCode){case 13:e.preventDefault(),this.submit();break;case 27:e.stopPropagation(),this.close()}}})}),n("text!apps/wysiwyg/templates/error.html",[],function(){return'<span class="notification notification-error">\n  <span class="notification-icon"></span>\n  <span class="notification-text"><%= message %></span>\n</span>\n'}),n("apps/wysiwyg/views/Error",["require","underscore","backbone","../emitter","text!../templates/error.html"],function(e){var t=e("underscore"),n=e("backbone"),i=e("../emitter"),r=e("text!../templates/error.html");return n.View.extend({attributes:{role:"alert","aria-hidden":!0},template:t.template(r),initialize:function(){this.listenTo(i,"upload:denied",this.error),this.listenTo(i,"upload:error",this.error),this.listenTo(i,"upload:success",this.success)},render:function(e){this.$el.html(this.template({message:e}))},error:function(e){var t=e.message;this.render(t),this.$el.attr("aria-hidden",!1)},success:function(){this.$el.attr("aria-hidden",!0)}})}),n("apps/wysiwyg/views/Container",["require","backbone","./Toolbar","./Iframe","./Dropzone","./LinkForm","./Error"],function(e){var t=e("backbone"),n=e("./Toolbar"),i=e("./Iframe"),r=e("./Dropzone"),o=e("./LinkForm"),a=e("./Error");return t.View.extend({id:"hc-wysiwyg",attributes:{role:"application"},initialize:function(e){this.views={toolbar:new n({items:e.editor.settings.toolbar.split(" ")}),LinkForm:new o,iframe:new i,dropzone:new r,error:new a},this.render()},render:function(){this.$el.append([this.views.toolbar.el,this.views.LinkForm.el,this.views.iframe.el,this.views.dropzone.el,this.views.error.el])}})}),n("text!apps/wysiwyg/content.css",[],function(){return'body {\n  background: #FFF;\n  font: normal normal 13px sans-serif;\n}\n\nimg {\n  display: block;\n  max-width: 100%;\n  transition: opacity 1s;\n}\n\nimg[width] { width: auto; }\n\nimg[height] { height: auto; }\n\n[role=progressbar] { position: relative; }\n\n[role=progressbar]:before {\n  content: attr(aria-valuenow)"%" ;\n  position: absolute;\n  color: #FFF;\n  font-weight: bold;\n  width: 50px;\n  height: 50px;\n  margin-left: -25px;\n  margin-top: -25px;\n  line-height: 50px;\n  left: 50%;\n  top: 50%;\n  border-radius: 50%;\n  background: rgba(0,0,0, .5);\n  text-align: center;\n  z-index: 1;\n}\n'}),n("apps/wysiwyg/theme",["require","underscore","./views/Container","text!./content.css","./emitter","./editor"],function(e){function t(e,t,o){t=t.setEditor(o);var a=t.targetElm,s=new i({editor:t});n.defaults(t.settings,{content_style:r,browser_spellcheck:!0,object_resizing:!1,auto_focus:t.id,height:175,inline:!0}),n.extend(t.settings,{relative_urls:!1}),s.$el.insertAfter(a),this.renderUI=function(){return{editorContainer:s.el,iframeContainer:s.views.iframe.el}}}var n=e("underscore"),i=e("./views/Container"),r=e("text!./content.css"),o=e("./emitter"),a=e("./editor").instance;return n.bind(t,null,o,a)}),n("apps/snippets/setupTinyMCESlim",["require","domlib","tinymce-adapter","apps/wysiwyg/theme"],function(e){var t=e("domlib"),n=e("tinymce-adapter"),i=e("apps/wysiwyg/theme");return n.ThemeManager.add("custom",i),function(e){e.theme="custom";var i=t(e.selector);i.val()&&n.init(e),i.one("focus",function(){n.init(e)})}}),n("pages/enduser/comments",["require","apps/snippets/setupTinyMCESlim"],function(e){var t=e("apps/snippets/setupTinyMCESlim");t({selector:"#community_comment_body",toolbar:"bold italic | bullist numlist | image link"})}),n("apps/snippets/dismissNotification",["domlib"],function(e){return function(){e(".notification-dismiss").click(function(t){t.preventDefault(),e(this).closest(".notification").hide()})}}),n("apps/snippets/avatarUrl",["require","domlib","hcbridge"],function(e){var t=e("domlib"),n=e("hcbridge").instance;return function(){var e=n.get("user.avatar_url");t("img.user-avatar").attr("src",e)}}),n("apps/snippets/preventEmptySearch",["domlib"],function(e){return function(){e(".search, .search-small").submit(function(){return 0!==e(this).find("input[type=search]").val().length})}}),n("apps/notification/models/Notification",["backbone"],function(e){return e.Model.extend({defaults:{message:"",type:"notice",icon:!0,dismiss:!0,hidden:!1,layout:"normal",flash:!1}})}),n("apps/notification/views/Notification",["backbone"],function(e){return e.View.extend({attributes:function(){return{"class":["notification","notification-"+this.model.get("type"),"inline"===this.model.get("layout")?"notification-inline":""].join(" "),"aria-hidden":this.model.get("hidden")}},initialize:function(){this.currentType=this.model.get("type"),this.listenTo(this.model,"change:type",this.changeType),this.listenTo(this.model,"change:hidden",this.changeVisibility),this.listenTo(this.model,"change:message",this.changeMessage),this.listenTo(this.model,"change:layout",this.toggleLayout),this.render()},events:{"click .notification-dismiss":"dismiss"},render:function(){var e=this.createElement("span",{"class":"notification-text"});if(e.innerText=e.textContent=this.model.get("message"),this.$el.append(e),this.model.get("icon")){var t=this.createElement("span",{"class":"notification-icon"});this.$el.prepend(t)}if(this.model.get("dismiss")){var n=this.createElement("a",{"class":"notification-dismiss",href:"#"});this.$el.append(n)}"flash"===this.model.get("layout")&&this.flashify()},createElement:function(e,t){var n,i;n=document.createElement(e);for(i in t)t.hasOwnProperty(i)&&n.setAttribute(i,t[i]);return n},flashify:function(){var e=this.createElement("div",{"class":"notification-inner"});this.$el.wrapInner(e)},unflashify:function(){var e=this.$el.find(".notification-inner").html();this.$el.html(e)},dismiss:function(){this.$el.remove(),this.stopListening()},changeMessage:function(){this.$el.find(".notification-text").text(this.model.get("message"))},changeType:function(){this.$el.toggleClass(["notification-"+this.currentType,"notification-"+this.model.get("type")].join(" ")),this.currentType=this.model.get("type")},changeVisibility:function(){this.$el.attr("aria-hidden",this.model.get("hidden"))},toggleLayout:function(){var e=this.model.get("layout");"inline"===e?(this.unflashify(),this.$el.addClass("notification-inline")):"flash"===e?(this.flashify(),this.$el.removeClass("notification-inline")):(this.unflashify(),this.$el.removeClass("notification-inline"))}})}),n("apps/notification/App",["./models/Notification","./views/Notification"],function(e,t){return function(n){var i=new e(n),r=new t({model:i});return{set:function(e){return e&&i.set({message:e.message||i.get("message"),type:e.type||i.get("type"),layout:e.layout||i.get("layout"),hidden:void 0!==e.hidden?e.hidden:i.get("hidden")}),this},appendTo:function(e){return r.$el.appendTo(e),this},prependTo:function(e){return r.$el.prependTo(e),this},detach:function(){return r.$el.detach(),this},dismiss:function(){r.dismiss()},$el:r.$el}}}),n("apps/UserDropdown",["require","domlib","hcbridge","apps/notification/App","i18n","jquery.fileupload"],function(e){var t=e("domlib"),n=e("hcbridge").instance,i=e("apps/notification/App"),r=e("i18n");e("jquery.fileupload");var o=function(){this.$userToggler=t("#user > [role=button]"),this.$userMenu=t("#user-menu"),this.$userDropdown=t("#user-dropdown"),this.$userButton=t("#user"),this.$userProfile=t("#user-profile"),this.$profileOpen=t("#profile-open"),this.$profileForm=t("#profile-form"),this.$profileFail=t("#profile-fail"),this.$profileFlash=t("#profile-flash"),this.$profileHeader=t("#profile-header"),this.$profileEmail=t("#profile-email"),this.$profileIdentities=t("#profile-identities"),this.$profilePhotoInput=t("#profile-photo-input"),this.loadingProfile=!1,this.$userPassword=t("#user-password"),this.$passwordChange=t("#password-change"),this.$passwordForm=t("#password-form"),this.$passwordFlash=t("#password-flash"),this.$passwordSubmit=t("#password-submit"),this.preloadGif(),this.events()};return o.prototype={preloadGif:function(){var e=new Image;e.src="/hc/assets/loader.gif"},events:function(){this.$userToggler.click(t.proxy(this.resetUserMenu,this)),this.$profileOpen.click(t.proxy(this.openProfilePanel,this)),this.$profileForm.submit(function(){return!1}),this.$profilePhotoInput.click(t.proxy(this.uploadAvatar,this)),this.$profileForm.on("change","input:not(:file), select",t.proxy(this.submitProfile,this)),this.$passwordChange.click(t.proxy(this.openPasswordPanel,this)),this.$passwordSubmit.click(t.proxy(this.submitPassword,this)),this.$passwordForm.submit(function(){return!1})},resetUserMenu:function(){this.resetProfilePanel(),this.resetPasswordPanel(),this.$userDropdown.removeAttr("style"),this.$userMenu.show()},openProfilePanel:function(e){e.stopPropagation(),this.loadingProfile||(this.startProfileLoader(),this.getProfileData().always(t.proxy(this.clearProfileLoader,this)).fail(t.proxy(this.showErrorMessage,this)).done(t.proxy(this.unveilProfile,this)))},startProfileLoader:function(){this.loadingProfile=!0,this.$profileOpen.attr("data-loading",!0)},getProfileData:function(){return t.get("/hc/user_profile",{},null,"json")},clearProfileLoader:function(){this.loadingProfile=!1,this.$profileOpen.attr("data-loading",!1)},showErrorMessage:function(){this.$profileFail.show()},unveilProfile:function(e){this.populateProfile(e),this.populateEmails(e),this.populateIdentities(e),this.show(this.$userProfile)},show:function(e){t.when(this.$userMenu.fadeOut(100),this.$userDropdown.animate({"min-height":e.height(),"min-width":e.width()},100)).done(function(){e.fadeIn(100)})},populateProfile:function(e){t("#profile-name").val(e.name),t("#user-name").text(e.name),t("#profile-phone").val(e.phone),t("#profile-time-zone").val(e.time_zone),t("#profile-photo img, #user-avatar").attr({src:e.photo&&e.photo.url?e.photo.url:"/hc/assets/user_avatar.png"})
},populateEmails:function(e){var n=this,i=this.templateDD(e.email);t.each(e.identities||[],function(e,t){"email"!==t.type||t.primary||(i+=n.templateDD(t.value))}),this.$profileEmail.append(i)},templateDD:function(e){return"<dd><a>"+e+"</a></dd>"},templateDT:function(e){return"<dt><label>"+e+"</label></dt>"},populateIdentities:function(e){var n=this,i="";t.each(e.identities||[],function(e,t){"email"!==t.type&&(i+=n.templateDT(t.type_name),i+=n.templateDD(t.value))}),this.$profileIdentities.append(i)},uploadAvatar:function(){this.$profilePhotoInput.fileupload({autoUpload:!0,url:this.getPath(this.$profileForm),type:"POST",dataType:"json",formData:[{name:"authenticity_token",value:n.get("current_session.csrf_token")},{name:"_method",value:"put"},{name:"utf8",value:"✓"}],start:t.proxy(this.startSubmitLoader,this,this.$profileForm),always:t.proxy(this.clearSubmitLoader,this,this.$profileForm),done:t.proxy(this.avatarUploaded,this),fail:t.proxy(this.avatarUploadFailed,this)})},avatarUploaded:function(e,t){this.$profileFlash.hide(),this.populateProfile(t.result)},avatarUploadFailed:function(){var e=r.t("txt.help_center.helpers.application.user_info.profile_invalid_photo");this.$profileFlash.attr("class","profile-flash-error").html(e).fadeOut().fadeIn(),t("#profile-photo img, #user-avatar").attr("src","/hc/assets/user_avatar.png")},submitProfile:function(){this.submit(this.$profileForm).done(t.proxy(this.populateProfile,this))},resetProfilePanel:function(){this.$userProfile.hide(),this.$profileFail.hide(),this.$profileFlash.hide(),this.$profileIdentities.empty(),this.$profileEmail.find("dd").remove()},openPasswordPanel:function(e){e.stopPropagation(),this.show(this.$userPassword)},resetPasswordPanel:function(){this.$passwordFlash.hide(),this.$userPassword.hide(),this.$userPassword.find("input:password").val("")},submitPassword:function(e){e.preventDefault(),this.submit(this.$passwordForm).always(t.proxy(this.submitPasswordFeedback,this))},submitPasswordFeedback:function(e,n){var o="password-flash-"+n,a=e.responseText?t.parseJSON(e.responseText):e,s=a.join("<br>");if("success"===n){this.$userDropdown.attr("aria-expanded",!1);var u=new i({type:"lock",icon:!0,message:r.t("txt.help_center.controllers.user_passwords_controller.update.success")});u.prependTo(document.body)}else this.$passwordFlash.attr("class",o).html(s).fadeOut().fadeIn()},submit:function(e){var n=this.getPath(e),i=this.getParams(e);return this.startSubmitLoader(e),t.post(n,i,null,"json").always(t.proxy(this.clearSubmitLoader,this,e))},getPath:function(e){return e.prop("action")},getParams:function(e){return e.serialize()},startSubmitLoader:function(e){e.siblings("h4").attr("data-loading",!0)},clearSubmitLoader:function(e){e.siblings("h4").attr("data-loading",!1)}},o}),n("apps/dropdowns",["require","domlib"],function(e){function t(){o(".dropdown-menu").attr("aria-expanded",!1)}function n(){var e=o(this).siblings(".dropdown-menu"),t="true"===e.attr("aria-expanded");return e.attr("aria-expanded",!t),!1}function i(e){e.stopPropagation()}function r(){o(document).on("click",t).on("click",".dropdown-toggle",t).on("click",".dropdown-toggle",n).on("click",".dropdown-menu",i).on("click",".dropdown-menu [role='menuitem']",t)}var o=e("domlib");return r}),function(e){"function"==typeof n&&n.amd?n("jquery.partial",["jquery"],e):e(jQuery)}(function(e){var t;e.fn.partial=function(n){return t=e.extend({},n),this.each(function(){var t=e(this),n=t.attr("data-partial"),i=/^\/\w+/;i.test(n)&&e.get(n,function(e){t.replaceWith(e)},"html")}),this}}),n("apps/snippets/setupPartial",["domlib","jquery.partial"],function(e){return function(){e(function(){e("[data-partial]").partial()})}}),n("apps/snippets/zenmote",["domlib"],function(e){return function(){e(function(){e("body").on("click","a[data-zenmote]",function(t){var n=e(t.currentTarget),i=n.attr("href"),r=n.data("zenmote");e.get(i,function(t){history&&history.pushState&&history.pushState({},"",i),e('[data-zenmote-target="'+r+'"]').html(t)},"html"),t.preventDefault()})})}}),n("apps/sso/windowMgr",[],function(){function e(e){var t,n,i="";n=e?" !important;":";";for(t in o)o.hasOwnProperty(t)&&(i+=t+":"+o[t]+n);return i}function t(){return document.getElementsByTagName("body")[0]}function n(n,i,o){var a,s;return n=n||"#",o=o||function(){},a=e(!0),s=t(),r?(r.onload=o,r.setAttribute("src",n),i&&r.setAttribute("name",i)):(r=document.createElement("iframe"),r.onload=o,r.setAttribute("style",a),r.setAttribute("src",n),i&&r.setAttribute("name",i),s.appendChild(r)),r}function i(){var e=t();e.removeChild(r),r=void 0}var r,o,a;return a={},o={"z-index":"9999",display:"block","background-color":"transparent",border:"0px none transparent","overflow-x":"hidden","overflow-y":"auto",visibility:"visible",margin:"0",padding:"0","-webkit-tap-highlight-color":"transparent",position:"fixed",left:"0",top:"0",width:"100%",height:"100%"},{create:n,destroy:i}}),n("apps/helpers/bind",[],function(){function e(e,t){return function(){return e.apply(t,arguments)}}return e}),n("apps/helpers/addEvent",[],function(){function e(e,t,n){e="string"==typeof e?document.querySelector(e):e,e&&(document.addEventListener?e.addEventListener(t,n,!1):document.attachEvent&&e.attachEvent("on"+t,n))}return e}),n("apps/snippets/PostMessage",["require","apps/helpers/bind","apps/helpers/addEvent"],function(e){function t(e,t){this.win=window,this.source=e,this.origin=t||document.referrer,this._events={},i(this.win,"message",n(this.onMessage,this))}var n=e("apps/helpers/bind"),i=e("apps/helpers/addEvent");return t.prototype={setOrigin:function(e){this.origin=e},setSource:function(e){this.source=e},onMessage:function(e){var t,n,i;e.source===this.source&&(i=JSON.parse(e.data),t=i.message,n=i.data,this.emit.call(this,t,n))},emit:function(e,t){for(var n=this._events[e]||[],i=0,r=n.length;r>i;i++){var o=n[i];o.cb.call(o.context,t)}},on:function(e,t,n){var i={cb:t,context:n};this._events[e]?this._events[e].push(i):this._events[e]=[i]},send:function(e,t){var n,i,r;r={message:e||"",data:t||{}},n=JSON.stringify(r),i=this.origin,this.source.postMessage(n,i)}},t}),n("apps/sso/Host",["require","./windowMgr","apps/helpers/extend","apps/snippets/PostMessage"],function(e){function t(e){this.options=i({return_to:this.getSelfUrl(),auth_domain:this.getSelfUrl(),frame_url:this.getSelfUrl(),legacy_locale_id:1,token:null,brand_id:null,class_name:""},e),this.message=new r,this.message.origin=this.options.frame_url,this.message.on("sso:close",this.onClose,this),this.message.on("sso:ready",this.onReady,this),this.windowMgr=n}var n=e("./windowMgr"),i=e("apps/helpers/extend"),r=e("apps/snippets/PostMessage");return t.prototype={ACTIONS:{signin:"login",email_verification:"email-verification",reset_password:"password-set"},getSelfUrl:function(){var e=window.location;return[e.protocol,"//",e.hostname,e.port?":"+e.port:""].join("")},load:function(e){var t,n,i,r;e=e||"signin",t="#"+this.ACTIONS[e],n=[this.options.frame_url,"hc","sso"].join("/"),i=n+t,r=this.windowMgr.create(i,"login"),this.message.setSource(r.contentWindow)},reload:function(){window.location.href=this.options.return_to},onClose:function(){this.windowMgr.destroy()},onReady:function(e){e.signed_in?this.reload():this.message.send("sso:load_script",{url:this.options.auth_domain+"/auth/login?",legacy_locale_id:this.options.legacy_locale_id,token:this.options.token,social_return_to:this.options.return_to,brand_id:this.options.brand_id,class_name:this.options.class_name})}},t}),n("apps/snippets/setupSso",["require","domlib","hcbridge","apps/sso/Host"],function(e){var t,n=e("domlib"),i=e("hcbridge").instance,r=e("apps/sso/Host");return function(){if(i.get("sso.enabled")){var e=i.get("sso",{});t=new r({return_to:e.return_to,auth_domain:e.auth_domain,brand_id:e.brand_id,legacy_locale_id:i.get("current_session.legacy_locale_id"),token:e.email_token||e.password_token}),n("body").on("click","[data-sso-action]",function(e){e.preventDefault();var n=this.getAttribute("data-sso-action");t.load(n)}),i.get("sso.action")&&t.load(i.get("sso.action"))}}}),n("libs/mout/array/indexOf",[],function(){function e(e,t,n){if(n=n||0,null==e)return-1;for(var i=e.length,r=0>n?i+n:n;i>r;){if(e[r]===t)return r;r++}return-1}return e}),n("apps/HC/App",["require","hcbridge","libs/mout/array/indexOf","apps/helpers/extend"],function(e){var t=e("hcbridge").instance,n=e("libs/mout/array/indexOf"),i=e("apps/helpers/extend"),r=function(){};return r.prototype={api:function(e,r){if("string"!=typeof e)throw new Error("Missing path argument");var o=["user","account"],a=i({},t.get(e,{}));if(!(n(o,e)>-1))throw new Error("Unsupported path");setTimeout(function(){r.call(window,a)},0)}},r}),n("apps/snippets/setupHC",["require","apps/HC/App"],function(e){var t=e("apps/HC/App");return function(){var e=new t;window.HC=e}}),n("apps/snippets/ajaxVotes",["require","domlib"],function(e){function t(e,t,n){var r=i(e),o=r.hasClass("vote-voted"),a=o?"DELETE":"POST";i.ajax({url:t,type:a,dataType:"json",data:{value:n},success:function(e){return e.redirect_to?void(window.location.href=e.redirect_to):void r.toggleClass("vote-voted").siblings(".vote-up, .vote-down").removeClass("vote-voted").siblings(".vote-sum").text(e.vote_sum)}})}function n(e){var t=i(e).closest(".comment").attr("id"),n=t.replace("community_comment_","");return r+"/comments/"+n+"/vote"}var i=e("domlib"),r=window.location.pathname;i(".post-vote .vote-up").click(function(){return t(this,r+"/vote","up"),!1}),i(".post-vote .vote-down").click(function(){return t(this,r+"/vote","down"),!1}),i(".comment-vote .vote-up").click(function(){return t(this,n(this),"up"),!1}),i(".comment-vote .vote-down").click(function(){return t(this,n(this),"down"),!1})}),n("pages/enduser/common",["require","hcbridge","apps/modalForm","apps/snippets/dismissNotification","apps/snippets/avatarUrl","apps/snippets/preventEmptySearch","apps/snippets/formatDateTime","apps/UserDropdown","apps/dropdowns","apps/snippets/setupPartial","apps/snippets/zenmote","apps/snippets/setupSso","apps/snippets/setupHC","apps/snippets/ajaxVotes"],function(e){var t=e("hcbridge").instance,n=e("apps/modalForm"),i=e("apps/snippets/dismissNotification"),r=e("apps/snippets/avatarUrl"),o=e("apps/snippets/preventEmptySearch"),a=e("apps/snippets/formatDateTime"),s=e("apps/UserDropdown"),u=e("apps/dropdowns"),l=e("apps/snippets/setupPartial"),c=e("apps/snippets/zenmote"),d=e("apps/snippets/setupSso"),p=e("apps/snippets/setupHC");if(e("apps/snippets/ajaxVotes"),i(),r(),o(),a(),new s,u(),l(),c(),d(),p(),t.get("user")){var f=t.get("user.role");"anonymous"===f||t.get("user.email")||n("/hc/user_email/new"),!t.get("settings.zopim_enabled")||"anonymous"!==f&&"end_user"!==f||"undefined"==typeof $zopim||$zopim(function(){"end_user"===f&&($zopim.livechat.setName(t.get("user.name")),$zopim.livechat.setEmail(t.get("user.email"))),$zopim.livechat.setLanguage(t.get("current_session.locale"))})}}),n("pages/enduser/help_center",["require","apps/asynchtmlSetup","apps/snippets/setupRecentActivity"],function(e){e("apps/asynchtmlSetup"),e("apps/snippets/setupRecentActivity")}),function(e,t){"function"==typeof n&&n.amd?n("nesty",t):e.Nesty=t()}(this,function(){function e(e,t){function n(e,t,n,i){i=!!i,e.addEventListener?e.addEventListener(t,n,i):e.attachEvent("on"+t,n)}function i(e,t,n,i){i=!!i,e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent("on"+t,n)}function r(e){return e=e||document.event,"number"==typeof e.which?e.which:e.keyCode}function o(e,t){for(var n=(e.parentNode||document).querySelectorAll(t)||[],i=n.length;i--;)if(n[i]==e)return!0;return!1}function a(e){do e=e.nextSibling;while(e&&1!==e.nodeType);return e}function s(e){e=e||{};var t={maxWidth:"300px"};for(var n in t)"undefined"==typeof e[n]&&(e[n]=t[n]);return e}function u(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function l(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function c(){var e=document.body||document.documentElement,t=e.style,n="transition",i=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof t[n])return!0;n=n.charAt(0).toUpperCase()+n.substr(1);for(var r=0;r<i.length;r++)if("string"==typeof t[i[r]+n])return!0;return!1}function d(e,t){var n;return document.createEvent?(n=document.createEvent("HTMLEvents"),n.initEvent("keyup",!0,!0),n.which=t,e.dispatchEvent(n)):void(document.fireEvent&&(n=document.createEventObject("KeyboardEvent"),n.keyCode=t,e.fireEvent("onkeyup",n)))}function p(e){var t={};this.getRootOption=function(){return e},this.getSelectedOption=function(){function t(e){for(var i=0;i<e.options.length;i++){var r=e.options[i];if(r.selected)return void(n=r);r.options&&t(r)}}var n;return t(e),n},this.getParentOptionOf=function(t){function n(e){for(var r=0;r<e.options.length;r++){var o=e.options[r];if(o===t)return void(i=e);o.options&&n(o)}}var i;return n(e),i},this.on=function(e,n,i){e in t||(t[e]=[]),t[e].push({callback:n,context:i})},this.trigger=function(e,n){var i=t[e];if(i)for(var r=0;r<i.length;r++){var o=i[r];o.callback.call(o.context,n)}},this.expand=function(e){this.trigger("expand",e)},this.collapse=function(e){this.trigger("collapse",e)},this.select=function(e){var t=this.getSelectedOption();t&&delete t.selected,e.selected=!0,this.trigger("select",e),t!==e&&this.trigger("change",e)}}function f(e,t){function i(e){r(e)===b.TAB&&s()}function o(e){l(e),t.isClosed()?s():t.close()}function a(e){u(e),r(e)===b.DOWN&&s()}function s(){t.open(),c()}function c(){var e=f.getBoundingClientRect(),n=t.el.offsetHeight,i=f.offsetHeight,r=isNaN(window.innerHeight)?document.documentElement.clientHeight:window.innerHeight,o=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,a=e.top;r-e.top<n&&(a=a+i-n),t.el.style.top=o+a+"px",t.el.style.left=e.left+"px",t.el.style.width=e.right-e.left+"px"}var d,p,f=document.createElement("a");f.className="nesty-input",f.tabIndex=0;var h=e.getSelectedOption();h?d=h.label:(p=e.getRootOption().options[0],d=p?p.label:""),f.textContent=d,f.innerText=d,n(f,"click",o),n(f,"keydown",a),n(f,"keyup",i),e.on("select",function(e){f.textContent=e.label,f.innerText=e.label}),this.el=f}function h(e,t,n){function i(e){return e.offsetWidth>0&&e.offsetHeight>0}var r=document.createElement("li");r.tabIndex=-1,r.textContent=n.textContent,r.innerText=n.textContent,r.className=n.className,r.id=n.value||null,this.el=r,this.option=t,this.el.nesty=this,this.focus=function(){r.focus()},this.focusNext=function(){var e=r.nextSibling;do{if(e&&i(e))return void e.focus();if(!e||!e.nextSibling)return;e=e.nextSibling}while(e)},this.focusPrevious=function(){var e=r.previousSibling;do{if(e&&i(e))return void e.focus();if(!e||!e.previousSibling)return;e=e.previousSibling}while(e)},this.pushIt=function(){this.isExpandable()?this.expand():this.isCollapsable()?this.collapse():this.select()},this.isExpandable=function(){return"nesty-expand"===r.className},this.expand=function(){e.expand(t)},this.isCollapsable=function(){return"nesty-collapse"===r.className},this.collapse=function(){e.collapse(t)},this.select=function(){e.select(t)}}function m(e,i){function r(e){var t=e.target||e.srcElement;t.focus()}function s(e){var t=e.target||e.srcElement;t.nesty.pushIt()}function l(e){if(u(e),!v){var t=e.target||e.srcElement;switch(e.keyCode){case b.TAB:c();break;case b.ENTER:t.nesty.pushIt();break;case b.UP:t.nesty.focusPrevious();break;case b.DOWN:t.nesty.focusNext();break;case b.RIGHT:t.nesty.isExpandable()&&t.nesty.expand();break;case b.LEFT:t.nesty.isCollapsable()&&t.nesty.collapse()}}}function c(){x.close();var e=p();e&&("a"===e.tagName.toLowerCase()?d(e,b.TAB):e.focus())}function p(){var e="input, textarea, a.nesty-input",t=k.el.nextElementSibling||a(k.el),n=k.el.parentNode;if(t)for(;t=t.nextElementSibling||a(t);)if(f(t)&&o(t,e))return t;for(;((n=n.nextElementSibling)||a(n))&&!f(n););if(!n)return!1;for(var i=n.querySelectorAll(e),r=0,s=i.length;s>r;r++)if(f(i[r]))return i[r];return!1}function f(e){return"hidden"!==e.getAttribute("type")&&$(e).is(":visible")}var m,g,v;m=document.createElement("ul"),m.style.transition="left .2s",g=document.createDocumentFragment(),"label"in i&&g.appendChild(new h(e,i,{className:"nesty-collapse",textContent:t.backLabel||i.label}).el);for(var y=0;y<i.options.length;y++){var w=i.options[y],_=null;w&&w.options?_="nesty-expand":w&&w.selected&&(_="nesty-selected"),g.appendChild(new h(e,w,{className:_,textContent:w.label,value:w.value}).el)}m.appendChild(g),n(m,"mouseover",r),n(m,"click",s),n(m,"keydown",l),this.el=m,this.slideTo=function(e,t){var n,i=this;return v=!0,m.style.left=e,setTimeout(function(){v=!1,"function"==typeof n&&n.call(i)},t),{then:function(e){return n=e,i}}},this.focus=function(e){for(var t=0;t<m.children.length;t++){var n=m.children[t],i=n.nesty.option;i===e&&n.focus()}}}function g(e,t){function r(e){var t=e.target||e.srcElement;t&&t!==s&&t.parentNode!==s&&t!==document&&f.close()}function o(){p=!0}function a(){p=!1,setTimeout(function(){p||f.close()},50)}var s,d,p,f,h=c()?200:0;s=document.createElement("div"),s.className="nesty-panel",s.style.display="none",document.body.appendChild(s),s.style.maxWidth=t.maxWidth,n(s,"click",l),n(s,"mousedown",u),e.on("collapse",function(t){var n,i=d,r=e.getParentOptionOf(t);i.slideTo("100%",h).then(function(){s.removeChild(i.el)}),n=new m(e,r),n.el.style.left="-100%",s.appendChild(n.el);d.el.offsetTop;n.slideTo("0px",h).then(function(){n.focus(t)}),d=n},this),e.on("expand",function(t){var n,i=d;i.slideTo("-100%",h).then(function(){s.removeChild(i.el)}),n=new m(e,t),n.el.style.left="100%",s.appendChild(n.el);d.el.offsetTop;n.slideTo("0px",h).then(function(){n.focus(t)}),d=n},this),e.on("select",function(){this.close()},this),this.el=s,this.isClosed=function(){return"none"===s.style.display},f=this,this.open=function(){s.innerHTML="";var t=e.getSelectedOption(),i=t?e.getParentOptionOf(t):e.getRootOption();s.style.display="block",d=new m(e,i),s.appendChild(d.el),setTimeout(function(){d.focus(t===i?t:i.options[0])},1),n(window,"scroll",r,!0),n(window,"blur",a,!0),n(s,"focus",o,!0)},this.close=function(){s.innerHTML="",s.style.display="none",i(window,"scroll",r,!0),i(window,"blur",a,!0),i(s,"focus",o,!0)}}function v(e){function t(){var t;document.createEvent?(t=document.createEvent("HTMLEvents"),t.initEvent("change",!0,!0),e.dispatchEvent(t)):(t=document.createEventObject(),t.eventType="change",e.fireEvent("on"+t.eventType,t))}e.style.display="none",_.on("change",function(n){e.value=n.value,t()}),this.before=function(t){e.parentNode.insertBefore(t,e)}}function y(e){for(var t={options:[]},n=0;n<e.children.length;n++){var i=e.children[n];if("OPTION"===i.tagName){var r=i.label||i.innerText||i.textContent;t.options.push({label:r,value:i.value,selected:i.selected})}else if("OPTGROUP"===i.tagName){for(var r=i.label||i.innerText||i.textContent,o={label:r,value:i.value,options:[]},a=0;a<i.children.length;a++){var s=i.children[a],u=s.label||s.innerText||s.textContent;o.options.push({label:u,value:s.value,selected:s.selected})}t.options.push(o)}}return t}var b={DOWN:40,UP:38,RIGHT:39,LEFT:37,TAB:9,ENTER:13};e||(e={options:[]});var w="SELECT"===e.nodeName?y(e):e;t=s(t);var _=new p(w),x=new g(_,t),k=new f(_,x);"SELECT"===e.nodeName&&new v(e).before(k.el),_.on("select",function(){x.close()}),n(document,"click",function(){x.close()}),n(document,"keydown",function(e){27===e.which&&(x.close(),k.el.focus())}),this.panel=x,this.input=k,this.on=_.on}return e}),n("pages/enduser/posts",["require","domlib","nesty","apps/snippets/setupTinyMCESlim","apps/snippets/populatePendingComments"],function(e){var t=e("domlib"),n=e("nesty"),i=e("apps/snippets/setupTinyMCESlim"),r=e("apps/snippets/populatePendingComments");t(".form-field select").each(function(){new n(this)}),i({selector:"#community_post_details",toolbar:"formats | bold italic | bullist numlist | image link"}),i({selector:"#community_comment_body",toolbar:"bold italic | bullist numlist | image link"}),r()}),n("apps/snippets/populateVote",["domlib"],function(e){return function(t,n){var i=e("section.answers div.vote-controls[data-record-id="+n.dom_id+"]"),r=i.find("a.vote-up"),o=i.find("a.vote-down");"up"===n.direction?(r.attr({"data-method":"delete","aria-selected":!0}),o.attr({"data-method":"put"})):"down"===n.direction&&(o.attr({"data-method":"delete","aria-selected":!0}),r.attr({"data-method":"put"}))}}),n("pages/enduser/questions",["require","domlib","apps/modalForm","hcbridge","apps/snippets/disableSubmitButton","apps/snippets/populateVote","nesty"],function(e){var t=e("domlib"),n=e("apps/modalForm"),i=e("hcbridge").instance,r=e("apps/snippets/disableSubmitButton"),o=e("apps/snippets/populateVote"),a=e("nesty");t(function(){t(document).on("click",".question-edit, .answer-edit",function(e){n(this.href,function(e){var t=e.find("[data-js='topicSelect']");t.length&&new a(t[0],{maxWidth:"none"})}),e.preventDefault()});var e=i.get("user.identifier");t(".answer[data-author-identifier="+e+"]").find(".answer-delete").removeAttr("hidden");var s=t(".question-form");r(s);var u=t(".answer-form");if(r(u),"anonymous"!==i.get("user.role")){var l=t(".answer-list-heading").attr("data-callback");t.getJSON(l,function(e){t.each(e.votes,o)});var c=t(".pending-answers-list");c.length>0&&c.load(c.attr("data-url"))}})}),n("apps/snippets/preventInputNumberScroll",["domlib"],function(e){return function(){e("input[type=number]").bind("mousewheel",function(){this.blur()})}}),n("apps/snippets/selectRequestIssueType",["domlib"],function(e){return function(){e("#request_issue_type_select").change(function(){var t=e(this).find("option:selected").attr("data-url");window.location.href=t})}}),n("apps/Screencast",["domlib","i18n"],function(e,t){var n=function(n){if(n.length){this.$recorder=n,this.$pool=e("#"+this.$recorder.data("pool"));var i=e("#"+this.$pool.data("template")).html();this.$template=e(e.trim(i)),this.recorderId=this.$recorder.data("recorder-id"),this.host=this.$recorder.data("host"),this.name=this.$recorder.data("name"),this.counter=0,this.screencastI18nName=t.t("txt.help_center.javascripts.screencasts.name"),this.init()}};return n.prototype={init:function(){var t,n;this.populate(),this.events(),t=this.screenrUrl(),n=e.proxy(this.setupScreenr,this),e.getScript(t,n)},populate:function(){var t=this.$pool.data("screencasts"),n=this;e.each(t||[],function(e,t){t.position>n.counter&&(n.counter=t.position-1),n.append(t)})},events:function(){this.$recorder.click(function(e){e.preventDefault()}),this.$pool.on("click","[data-upload-remove]",e.proxy(this.remove,this))},remove:function(t){e(t.target).closest("[data-upload-item]").remove()},screenrUrl:function(){var e=this.host.replace(/.*?:\/\//g,""),t=document.location.protocol+"//";return t+e+"/api/recorder"},setupScreenr:function(){if(window.Screenr){var t=window.Screenr,n=t.Recorder({id:this.recorderId,hideAllFields:!0,scrollToTop:!0});n.attachTo(this.$recorder.attr("id")),n.setUserName("",!1),n.setUserEmail("",!1),n.setSubject("",!1),n.setDescription("",!1),n.setOnComplete(e.proxy(this.append,this))}},append:function(e){this.counter+=1;var t=this.render({id:e.id,content_url:e.content_url||e.embedUrl,thumbnail_url:e.thumbnail_url||e.thumbnailUrl,position:e.position||this.counter});this.$pool.append(t)},render:function(e){var t=this.$template.clone();return t.addClass("upload-item-screencast"),t.find("[data-upload-link]").attr("href",e.content_url).text(this.screencastI18nName+e.position),t.find("input:hidden").attr("name",this.name).val(JSON.stringify(e)),t}},n}),function(e,t){"function"==typeof n&&n.amd?n("pikaday",["require"],function(n){var i="moment",r=n.defined&&n.defined(i)?n(i):void 0;return t(r||e.moment)}):e.Pikaday=t(e.moment)}(this,function(e){var t="function"==typeof e,n=!!window.addEventListener,i=window.document,r=window.setTimeout,o=function(e,t,i,r){n?e.addEventListener(t,i,!!r):e.attachEvent("on"+t,i)},a=function(e,t,i,r){n?e.removeEventListener(t,i,!!r):e.detachEvent("on"+t,i)},s=function(e,t,n){var r;i.createEvent?(r=i.createEvent("HTMLEvents"),r.initEvent(t,!0,!1),r=y(r,n),e.dispatchEvent(r)):i.createEventObject&&(r=i.createEventObject(),r=y(r,n),e.fireEvent("on"+t,r))},u=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},l=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},c=function(e,t){l(e,t)||(e.className=""===e.className?t:e.className+" "+t)},d=function(e,t){e.className=u((" "+e.className+" ").replace(" "+t+" "," "))},p=function(e){return/Array/.test(Object.prototype.toString.call(e))},f=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},h=function(e){return e%4===0&&e%100!==0||e%400===0},m=function(e,t){return[31,h(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},g=function(e){f(e)&&e.setHours(0,0,0,0)},v=function(e,t){return e.getTime()===t.getTime()},y=function(e,t,n){var i,r;for(i in t)r=void 0!==e[i],r&&"object"==typeof t[i]&&void 0===t[i].nodeName?f(t[i])?n&&(e[i]=new Date(t[i].getTime())):p(t[i])?n&&(e[i]=t[i].slice(0)):e[i]=y({},t[i],n):(n||!r)&&(e[i]=t[i]);return e},b={field:null,bound:void 0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},onSelect:null,onOpen:null,onClose:null,onDraw:null},w=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},_=function(e,t,n,i,r){if(r)return'<td class="is-empty"></td>';var o=[];return i&&o.push("is-disabled"),n&&o.push("is-today"),t&&o.push("is-selected"),'<td data-day="'+e+'" class="'+o.join(" ")+'"><button class="pika-button" type="button">'+e+"</button></td>"},x=function(e,t){return"<tr>"+(t?e.reverse():e).join("")+"</tr>"},k=function(e){return"<tbody>"+e.join("")+"</tbody>"},T=function(e){var t,n=[];for(t=0;7>t;t++)n.push('<th scope="col"><abbr title="'+w(e,t)+'">'+w(e,t,!0)+"</abbr></th>");return"<thead>"+(e.isRTL?n.reverse():n).join("")+"</thead>"},C=function(e){var t,n,i,r,o,a=e._o,s=e._m,u=e._y,l=u===a.minYear,c=u===a.maxYear,d='<div class="pika-title">',f=!0,h=!0;for(i=[],t=0;12>t;t++)i.push('<option value="'+t+'"'+(t===s?" selected":"")+(l&&t<a.minMonth||c&&t>a.maxMonth?"disabled":"")+">"+a.i18n.months[t]+"</option>");for(r='<div class="pika-label">'+a.i18n.months[s]+'<select class="pika-select pika-select-month">'+i.join("")+"</select></div>",p(a.yearRange)?(t=a.yearRange[0],n=a.yearRange[1]+1):(t=u-a.yearRange,n=1+u+a.yearRange),i=[];n>t&&t<=a.maxYear;t++)t>=a.minYear&&i.push('<option value="'+t+'"'+(t===u?" selected":"")+">"+t+"</option>");return o='<div class="pika-label">'+u+a.yearSuffix+'<select class="pika-select pika-select-year">'+i.join("")+"</select></div>",d+=a.showMonthAfterYear?o+r:r+o,l&&(0===s||a.minMonth>=s)&&(f=!1),c&&(11===s||a.maxMonth<=s)&&(h=!1),d+='<button class="pika-prev'+(f?"":" is-disabled")+'" type="button">'+a.i18n.previousMonth+"</button>",d+='<button class="pika-next'+(h?"":" is-disabled")+'" type="button">'+a.i18n.nextMonth+"</button>",d+="</div>"},D=function(e,t){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+T(e)+k(t)+"</table>"},S=function(a){var s=this,u=s.config(a);s._onMouseDown=function(e){if(s._v){e=e||window.event;var t=e.target||e.srcElement;if(t){if(!l(t,"is-disabled")){if(l(t,"pika-button")&&!l(t,"is-empty"))return s.setDate(new Date(s._y,s._m,parseInt(t.innerHTML,10))),void(u.bound&&r(function(){s.hide()},100));l(t,"pika-prev")?s.prevMonth():l(t,"pika-next")&&s.nextMonth()}if(l(t,"pika-select"))s._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}}},s._onChange=function(e){e=e||window.event;var t=e.target||e.srcElement;t&&(l(t,"pika-select-month")?s.gotoMonth(t.value):l(t,"pika-select-year")&&s.gotoYear(t.value))},s._onInputChange=function(n){var i;n.firedBy!==s&&(t?(i=e(u.field.value,u.format),i=i&&i.isValid()?i.toDate():null):i=new Date(Date.parse(u.field.value)),s.setDate(f(i)?i:null),s._v||s.show())},s._onInputFocus=function(){s.show()},s._onInputClick=function(){s.show()},s._onInputBlur=function(){s._c||(s._b=r(function(){s.hide()},50)),s._c=!1},s._onClick=function(e){e=e||window.event;var t=e.target||e.srcElement,i=t;if(t){!n&&l(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),o(t,"change",s._onChange)));do if(l(i,"pika-single"))return;while(i=i.parentNode);s._v&&t!==u.trigger&&s.hide()}},s.el=i.createElement("div"),s.el.className="pika-single"+(u.isRTL?" is-rtl":""),o(s.el,"mousedown",s._onMouseDown,!0),o(s.el,"change",s._onChange),u.field&&(u.bound?i.body.appendChild(s.el):u.field.parentNode.insertBefore(s.el,u.field.nextSibling),o(u.field,"change",s._onInputChange),u.defaultDate||(u.defaultDate=t&&u.field.value?e(u.field.value,u.format).toDate():new Date(Date.parse(u.field.value)),u.setDefaultDate=!0));var c=u.defaultDate;f(c)?u.setDefaultDate?s.setDate(c,!0):s.gotoDate(c):s.gotoDate(new Date),u.bound?(this.hide(),s.el.className+=" is-bound",o(u.trigger,"click",s._onInputClick),o(u.trigger,"focus",s._onInputFocus),o(u.trigger,"blur",s._onInputBlur)):this.show()};return S.prototype={config:function(e){this._o||(this._o=y({},b,!0));var t=y(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,f(t.minDate)||(t.minDate=!1),f(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&(g(t.minDate),t.minYear=t.minDate.getFullYear(),t.minMonth=t.minDate.getMonth()),t.maxDate&&(g(t.maxDate),t.maxYear=t.maxDate.getFullYear(),t.maxMonth=t.maxDate.getMonth()),p(t.yearRange)){var i=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||i,t.yearRange[1]=parseInt(t.yearRange[1],10)||i}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||b.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return f(this._d)?t?e(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n){t&&e.isMoment(n)&&this.setDate(n.toDate())},getDate:function(){return f(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),f(e)){var n=this._o.minDate,i=this._o.maxDate;f(n)&&n>e?e=n:f(i)&&e>i&&(e=i),this._d=new Date(e.getTime()),g(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),s(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){f(e)&&(this._y=e.getFullYear(),this._m=e.getMonth(),this.draw())},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e=parseInt(e,10))||(this._m=0>e?0:e>11?11:e,this.draw())},nextMonth:function(){++this._m>11&&(this._m=0,this._y++),this.draw()},prevMonth:function(){--this._m<0&&(this._m=11,this._y--),this.draw()},gotoYear:function(e){isNaN(e)||(this._y=parseInt(e,10),this.draw())},setMinDate:function(e){this._o.minDate=e},setMaxDate:function(e){this._o.maxDate=e},draw:function(e){if(this._v||e){var t=this._o,n=t.minYear,i=t.maxYear,o=t.minMonth,a=t.maxMonth;if(this._y<=n&&(this._y=n,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=i&&(this._y=i,!isNaN(a)&&this._m>a&&(this._m=a)),this.el.innerHTML=C(this)+this.render(this._y,this._m),t.bound&&(this.adjustPosition(),"hidden"!==t.field.type&&r(function(){t.trigger.focus()},1)),"function"==typeof this._o.onDraw){var s=this;r(function(){s._o.onDraw.call(s)},0)}}},adjustPosition:function(){var e,t,n,r=this._o.trigger,o=r,a=this.el.offsetWidth,s=this.el.offsetHeight,u=window.innerWidth||i.documentElement.clientWidth,l=window.innerHeight||i.documentElement.clientHeight,c=window.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop;
if("function"==typeof r.getBoundingClientRect)n=r.getBoundingClientRect(),e=n.left+window.pageXOffset,t=n.bottom+window.pageYOffset;else for(e=o.offsetLeft,t=o.offsetTop+o.offsetHeight;o=o.offsetParent;)e+=o.offsetLeft,t+=o.offsetTop;e+a>u&&(e=e-a+r.offsetWidth),t+s>l+c&&(t=t-s-r.offsetHeight),this.el.style.cssText="position:absolute;left:"+e+"px;top:"+t+"px;"},render:function(e,t){var n=this._o,i=new Date,r=m(e,t),o=new Date(e,t,1).getDay(),a=[],s=[];g(i),n.firstDay>0&&(o-=n.firstDay,0>o&&(o+=7));for(var u=r+o,l=u;l>7;)l-=7;u+=7-l;for(var c=0,d=0;u>c;c++){var p=new Date(e,t,1+(c-o)),h=n.minDate&&p<n.minDate||n.maxDate&&p>n.maxDate,y=f(this._d)?v(p,this._d):!1,b=v(p,i),w=o>c||c>=r+o;s.push(_(1+(c-o),y,b,h,w)),7===++d&&(a.push(x(s,n.isRTL)),s=[],d=0)}return D(n,a)},isVisible:function(){return this._v},show:function(){this._v||(this._o.bound&&o(i,"click",this._onClick),d(this.el,"is-hidden"),this._v=!0,this.draw(),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;e!==!1&&(this._o.bound&&a(i,"click",this._onClick),this.el.style.cssText="",c(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),a(this.el,"mousedown",this._onMouseDown,!0),a(this.el,"change",this._onChange),this._o.field&&(a(this._o.field,"change",this._onInputChange),this._o.bound&&(a(this._o.trigger,"click",this._onInputClick),a(this._o.trigger,"focus",this._onInputFocus),a(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},S}),n("apps/Datepicker",["domlib","moment","pikaday","i18n"],function(e,t,n,i){function r(t){this.$input=e(t),this.$datepicker=e([]),this.render(),this.obfuscate(),this.pikaday=this.initPikaday()}var o="YYYY-MM-DD",a=i.t("date.datepicker.date_format"),s=a.replace("dd","_01_").replace("d","_02_").replace("oo","_03_").replace("o","_04_").replace("DD","_05_").replace("D","_06_").replace("mm","_07_").replace("m","_08_").replace("MM","_09_").replace("M","_10_").replace("yy","_11_").replace("y","_12_"),u=s.replace("_01_","DD").replace("_02_","D").replace("_03_","DDDD").replace("_04_","DDD").replace("_05_","dddd").replace("_06_","ddd").replace("_07_","MM").replace("_08_","M").replace("_09_","MMMM").replace("_10_","MMM").replace("_11_","YYYY").replace("_12_","YY");return r.prototype={obfuscate:function(){this.$input.attr({"class":"",readonly:!0}).hide()},render:function(){this.$datepicker=e("<input/>",{"class":this.$input.attr("class"),value:this.localizedDate(),type:"text"}).insertBefore(this.$input)},localizedDate:function(){var e=this.$input.val();return e.length?t(e,o).format(u):""},initPikaday:function(){return new n({field:this.$datepicker[0],format:u,onSelect:e.proxy(this.formatAndSync,this),firstDay:Number(i.t("date.datepicker.first_day")),isRTL:Boolean(Number(i.t("date.datepicker.is_rtl"))),showMonthAfterYear:Boolean(Number(i.t("date.datepicker.show_month_after_year"))),yearSuffix:i.t("date.datepicker.year_suffix"),i18n:{previousMonth:i.t("date.datepicker.prev_text"),nextMonth:i.t("date.datepicker.next_text"),months:i.t("date.month_names").slice(1),weekdays:i.t("date.min_day_names"),weekdaysShort:i.t("date.min_day_names")}})},formatAndSync:function(){var e=this.pikaday.getDate(),n=t(e).format(o);this.$datepicker.val(t(n,o).format(u)),this.$input.val(n)}},r}),n("apps/snippets/organizationSubmitter",["domlib"],function(e){return function(){var t=e(this),n=t.closest("form"),i=n.prop("action"),r=n.serialize();t.prop("disabled","disabled"),e.post(i,r,null,"json").always(function(){t.removeProp("disabled")})}}),n("apps/bootstrapNestedDropdowns/bootstrapNestedDropdowns",["domlib","i18n","nesty"],function(e,t,n){return function(){e("[data-tagger]").each(function(){var i=e(this),r=i.data("tagger"),o=new n({options:r},{backLabel:t.t("txt.help_center.views.admin.shared.back")});i.after(o.input.el),o.on("change",function(e){i.val(e.value);var t;document.createEvent?(t=document.createEvent("HTMLEvents"),t.initEvent("change",!0,!0),i[0].dispatchEvent(t)):(t=document.createEventObject(),t.eventType="change",i[0].fireEvent("on"+t.eventType,t))})})}}),n("libs/mout/queryString/getQuery",[],function(){function e(e){e=e.replace(/#.*/,"");var t=/\?[a-zA-Z0-9\=\&\%\$\-\_\.\+\!\*\'\(\)\,]+/.exec(e);return t?decodeURIComponent(t[0]):""}return e}),n("libs/mout/queryString/contains",["./getQuery"],function(e){function t(t,n){var i=new RegExp("(\\?|&)"+n+"=","g");return i.test(e(t))}return t}),n("libs/mout/string/typecast",[],function(){function e(e){var n;return n=null===e||"null"===e?null:"true"===e?!0:"false"===e?!1:e===t||"undefined"===e?t:""===e||isNaN(e)?e:parseFloat(e)}var t;return e}),n("libs/mout/lang/kindOf",[],function(){function e(e){return null===e?"Null":e===t?"Undefined":n.exec(i.call(e))[1]}var t,n=/^\[object (.*)\]$/,i=Object.prototype.toString;return e}),n("libs/mout/lang/isKind",["./kindOf"],function(e){function t(t,n){return e(t)===n}return t}),n("libs/mout/lang/isString",["./isKind"],function(e){function t(t){return e(t,"String")}return t}),n("libs/mout/lang/isArray",["./isKind"],function(e){var t=Array.isArray||function(t){return e(t,"Array")};return t}),n("libs/mout/queryString/decode",["../string/typecast","../lang/isString","../lang/isArray","../object/hasOwn"],function(e,t,n,i){function r(r,o){for(var a,s,u,l,c=(r||"").replace("?","").split("&"),d=-1,p=c.length,f={};++d<p;)a=c[d].split("="),u=a[0],u&&u.length&&(s=o===!1?a[1]:e(a[1]),l=t(s)?decodeURIComponent(s):s,i(f,u)?n(f[u])?f[u].push(l):f[u]=[f[u],l]:f[u]=l);return f}return r}),n("libs/mout/array/forEach",[],function(){function e(e,t,n){if(null!=e)for(var i=-1,r=e.length;++i<r&&t.call(n,e[i],i,e)!==!1;);}return e}),n("libs/mout/queryString/encode",["../object/forOwn","../lang/isArray","../array/forEach"],function(e,t,n){function i(i){var r,o,a=[];return e(i,function(e,i){t(e)?(r=i+"=",o=new RegExp("&"+i+"+=$"),n(e,function(e){r+=encodeURIComponent(e)+"&"+i+"="}),a.push(r.replace(o,""))):a.push(i+"="+encodeURIComponent(e))}),a.length?"?"+a.join("&"):""}return i}),n("libs/mout/queryString/getParam",["../string/typecast","./getQuery"],function(e,t){function n(n,i,r){var o=new RegExp("(\\?|&)"+i+"=([^&]*)"),a=o.exec(t(n)),s=a&&a[2]?a[2]:null;return r===!1?s:e(s)}return n}),n("libs/mout/queryString/parse",["./decode","./getQuery"],function(e,t){function n(n,i){return e(t(n),i)}return n}),n("libs/mout/queryString/setParam",[],function(){function e(e,t,n){e=e||"";var i=new RegExp("(\\?|&)"+t+"=[^&]*"),r=t+"="+encodeURIComponent(n);return i.test(e)?e.replace(i,"$1"+r):(-1===e.indexOf("?")&&(e+="?"),-1!==e.indexOf("=")&&(e+="&"),e+r)}return e}),n("libs/mout/queryString",["require","./queryString/contains","./queryString/decode","./queryString/encode","./queryString/getParam","./queryString/getQuery","./queryString/parse","./queryString/setParam"],function(e){return{contains:e("./queryString/contains"),decode:e("./queryString/decode"),encode:e("./queryString/encode"),getParam:e("./queryString/getParam"),getQuery:e("./queryString/getQuery"),parse:e("./queryString/parse"),setParam:e("./queryString/setParam")}}),n("upload",["require","hcbridge","jquery","jquery.fileupload"],function(e){var t=e("hcbridge").instance,n=e("jquery");e("jquery.fileupload");var i=function(e){this.$uploader=n(e),this.$dropzone=n("#"+this.$uploader.data("dropzone")),this.$error=n("#"+this.$uploader.data("error")),this.$pool=n("#"+this.$uploader.data("pool"));var t=n("#"+this.$pool.data("template")).html();this.$template=n(n.trim(t)),this.url=this.$uploader.data("create-url"),this.name=this.$uploader.data("name"),this.deleteConfirmMsg=this.$uploader.data("delete-confirm-msg"),this.serialiazedObject=-1===this.name.indexOf("_ids][]"),this.init()};i.prototype={init:function(){this.cleanup(),this.populate(),this.setup()},cleanup:function(){this.$pool.empty(),this.$error.hide()},populate:function(){function e(){var i=t.shift();if(i){var r=n.render(i.display_file_name||i.file_name);n.setupload(r,i),n.append(r),setTimeout(e,4)}}var t=this.$pool.data("uploads")||[],n=this;e()},render:function(e){var t=this.$template.clone();return this.setLinkText(t,e),this.setInputName(t),t},append:function(e){this.$pool.append(e)},setupload:function(e,t){this.setLinkUrl(e,t.url),this.setPathUrl(e,t.url),this.setRemoveUrl(e,t.delete_url),this.setInputValue(e,t),this.setProgress(e,100),this.setRemoveEvent(e)},setLinkText:function(e,t){e.find("[data-upload-link]").text(t)},setInputName:function(e){e.find("input:hidden").attr("name",this.name)},setLinkUrl:function(e,t){e.find("[data-upload-link]").attr("href",t)},setPathUrl:function(e,t){e.find("[data-upload-path]").text(t)},setRemoveUrl:function(e,t){e.find("[data-upload-remove]").data("delete-url",t)},setInputValue:function(e,t){var n=this.serialiazedObject?t:t.id;e.find("input:hidden").val(JSON.stringify(n))},setProgress:function(e,t){e.find("[data-upload-progress]").css("width",t+"%")},setRemoveEvent:function(e){e.find("[data-upload-remove]").click(n.proxy(this.remove,this))},setup:function(){this.$uploader.fileupload({dropZone:this.$dropzone,pasteZone:null,url:this.url,dataType:"json",type:"POST",formData:[{name:"authenticity_token",value:t.get("current_session.csrf_token")}],paramName:"file",singleFileUploads:!0,dragover:n.proxy(this.dragover,this),add:n.proxy(this.add,this),progress:n.proxy(this.progress,this),done:n.proxy(this.done,this),fail:n.proxy(this.error,this)})},dragover:function(){var e=this,t=window.dropZoneTimeout;t?clearTimeout(t):this.$dropzone.attr("data-hover",!0),window.dropZoneTimeout=setTimeout(function(){window.dropZoneTimeout=null,e.$dropzone.attr("data-hover",!1)},100)},add:function(e,t){var n=t.files[0];if(this.exists(n.name))return void this.flash("File already exists",n.name);if("undefined"!=typeof n.size&&!this.valid(n))return void this.flash("File invalid");var i=this.render(n.name);i.attr("aria-busy",!0),t.context=i,this.append(i),t.submit()},exists:function(e){return this.$pool.find("a").filter(function(){return this.innerText===e}).length?!0:!1},valid:function(e){return e.size>0},progress:function(e,t){var n=t.context;if(n){var i=parseInt(t.loaded/t.total*100,10);90>=i&&this.setProgress(n,i)}},done:function(e,t){var n=t.context;this.setupload(n,t.result),setTimeout(function(){n.attr("aria-busy",!1)},1e3)},remove:function(e){var t=this.deleteConfirmMsg;if(!t.length||window.confirm(t)){var i=n(e.target),r=i.closest("[data-upload-item]"),o=i.data("delete-url"),a=this;this.destroy(o).done(function(){r.remove(),a.$uploader.trigger("fileuploadremove")})}},destroy:function(e){return n.post(e,{_method:"DELETE"})},error:function(e,t){var n=t.context;n.remove();var i=t.jqXHR.responseJSON?t.jqXHR.responseJSON[0]:null;this.flash(t.errorThrown,i)},flash:function(e,t){var n;switch(e){case"Bad Request":n=I18n.t("txt.help_center.views.shared.upload_error.file_too_big");break;case"File too big":n=I18n.t("txt.help_center.views.shared.upload_error.file_too_big");break;case"File invalid":n=I18n.t("txt.help_center.views.shared.upload_error.file_invalid");break;case"File already exists":n=I18n.t("txt.help_center.views.shared.upload_error.file_already_exist",{filename:t});break;case"Unprocessable Entity":n=I18n.t("txt.help_center.views.shared.upload_error.file_too_big_with_limit",{limit:t.size_limit});break;default:n=I18n.t("txt.help_center.views.shared.upload_error.connection_lost")}this.$error.show().find("[data-upload-error-message]").text(n)}},n.fn.upload=function(){return this.each(function(){n.data(this,"upload",new i(this))})}}),function(e){"function"==typeof n&&n.amd?n("jquery.searchbox",["jquery"],e):e(jQuery)}(function(e){e.fn.searchbox=function(t){return this.each(function(){function n(){d.stop().slideUp("fast")}function i(){d.stop().slideDown("fast")}function r(){u.attr("data-loading",!0)}function o(t){var r=[];u.attr("data-loading",!1),e.each(t.results,function(t,n){var i=e("<a/>",{href:p.url_filter(n.html_url),text:n.name}),o=e("<li/>").html(i);r.push(o)});var o=e("<ul/>").html(r);c.empty(),c.html(o),r.length>0?i():n()}function a(){var t,n,i,a,s;t=e.trim(l.val()),t=t.toLowerCase(),s=t.charCodeAt(0),n=encodeURIComponent(t),i=p.url.replace("{{query}}",n),1===m.readyState&&(m.abort(),u.attr("data-loading",!1)),a=s>=19968&&195103>=s?t.length>=2:t.length>=p.minChars,a&&(h[t]?o(h[t]):m=e.ajax(i,{beforeSend:r,success:function(e){h[t]=e,o.apply(this,arguments)}}))}function s(){f&&clearTimeout(f),f=setTimeout(a,p.threshold)}var u,l,c,d,p,f,h={},m={};return p=e.extend({input:"#request_subject",eventName:"keyup",minChars:2,threshold:300,title:"",url:"",url_filter:function(e){return e}},t),u=e(this),l=p.input instanceof e?p.input:e(p.input),u.data("searchbox")?!0:(u.data("searchbox",!0),c=e('<div class="searchbox-suggestions"></div>'),d=e('<div class="searchbox"><label>'+p.title+"</label></div>").hide(),d.append(c),u.append(d),void l.on(p.eventName,s))}),this}}),n("pages/enduser/requests",["require","domlib","hcbridge","apps/snippets/preventInputNumberScroll","apps/snippets/selectRequestIssueType","apps/Screencast","apps/Datepicker","apps/snippets/organizationSubmitter","i18n","apps/snippets/disableSubmitButton","apps/bootstrapNestedDropdowns/bootstrapNestedDropdowns","nesty","libs/mout/queryString","upload","jquery.searchbox"],function(e){function t(){var e=n("#quick-search").val(),t=n("#request-status-select").val(),i=n("#request-organization-select").val(),r=window.location.href;r=f.setParam(r,"query",e),r=f.setParam(r,"status",t),i&&(r=f.setParam(r,"organization_id",i)),window.location.href=r}var n=e("domlib"),i=e("hcbridge").instance,r=e("apps/snippets/preventInputNumberScroll"),o=e("apps/snippets/selectRequestIssueType"),a=e("apps/Screencast"),s=e("apps/Datepicker"),u=e("apps/snippets/organizationSubmitter"),l=e("i18n"),c=e("apps/snippets/disableSubmitButton"),d=e("apps/bootstrapNestedDropdowns/bootstrapNestedDropdowns"),p=e("nesty"),f=e("libs/mout/queryString");e("upload"),e("jquery.searchbox"),n(".form-field select").each(function(){new p(this)}),d(),r(),o(),n(".satisfaction-box").on("click",'[for="satisfaction_rating_score_good"]',function(){n("#satisfaction_rating_score_bad").removeAttr("checked"),n("#satisfaction_rating_score_good").attr("checked","checked")}),n(".satisfaction-box").on("click",'[for="satisfaction_rating_score_bad"]',function(){n("#satisfaction_rating_score_good").removeAttr("checked"),n("#satisfaction_rating_score_bad").attr("checked","checked")}),new a(n("#request-screencasts")),n("#quick-search").keypress(function(e){13===e.which&&t()}),n("#request-status-select, #request-organization-select").change(function(){t()}),n("[data-datepicker]").each(function(){new s(this)}),n("#request_type").change(function(e){var t=e.target||e.srcElement,i="task"===t.value;n("[data-due-date]").toggle(i)}),n("#request-organization select").change(u),n(function(){function e(e){d&&(e.preventDefault(),u.prop("disabled",!0)),p=!0}function t(){d=!0}function r(){d=!1,p&&s.submit()}var o="/hc/api/v2/search.json?per_page=4&locale="+i.get("current_session.locale")+"&query={{query}}";n("[data-searchbox]").searchbox({url:o,title:l.t("txt.help_center.views.requests.suggested_solutions"),eventName:"keyup",threshold:500,minChars:3,url_filter:function(e){var t=n("[data-searchbox] input").val();t=n.trim(t);var i=e+"?input_string="+encodeURIComponent(t);return i}});var a=n("#request-attachments"),s=a.closest("form"),u=s.find("[type=submit]"),d=!1,p=!1;a.on("fileuploadstart",t),a.on("fileuploadstop",r),s.on("submit",e),c(s),a.upload()})}),n("pages/enduser/sections",["require","apps/snippets/setupRecentActivity"],function(e){e("apps/snippets/setupRecentActivity")}),t(["hcbootstrap"])}).call({});
//# sourceMappingURL=hc_enduser.js.map